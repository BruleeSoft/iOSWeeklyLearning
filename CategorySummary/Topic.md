************************************************
[@zhangferry](https://zhangferry.com)：大家好，iOS摸鱼周报不知不觉已经发布到第 16 期啦！为了了解大家对周报的想法和建议，前段时间我们做了一次问卷调查，问卷的结果大体上符合预期的设想，有一些好的建议我们也采纳了。所以在上一周我们停更一期做了新内容的准备，本期内容就是改版后的第一期。如果大家后续有什么好的想法和建议，还可以继续给我们留言反馈，希望摸鱼周报能同大家一起进步~

**调整内容**：去掉了`那些Bug`、`编程概念`模块，增加了`本期话题`和`面试解析`。

重点说下`本期话题`模块的作用，我们在调研了各个领域有名气的周报之后，发现了一份独树一帜且跟我们气质相符的周报：阮一峰的科技爱好者周刊。阮一峰的周刊特别之处在于它不仅是在讲科技，还会有每周话题用来讲述生活中的一些思考，比如近几期的话题：“培训班 vs 大学，求职成功率比较”，“你的城市有多少张病床”等。为了让一份技术性周报变的有温度，我认为是需要加入一些人文性质的思考的。

所以我们决定加这个`本期话题`模块，主题来源不仅限于众位联合编辑，也欢迎各位读者跟我们一起探讨问题，或者向我们抛出问题。可以是技术思考，生活感想，读书感悟，职场教训，职业困境等等。之后的`本期话题`会从多个选题里选一个进行探讨，如果问题超出了我们的认知范围，会找认识的其他大佬进行解答。so，对于这个新东西，欢迎大家贡献有趣的话题内容啊~

***
[@zhangferry](https://zhangferry.com)：本期话题来源于一个同学的提问：普通人如何摆脱娱乐的诱惑，让自己可以每天，或者每周有固定的学习时间。

这个问题比较难回答，因为娱乐是人的本能，真正做到摆脱诱惑是非常难的。不光是学习，其实有很多事情我们都是知道应该要做什么的，但就是无法做到，那到底是为什么呢？《Synaptic Self》这本书从脑科学的角度解释了这个现象：

> 大脑中的新皮层（neocortex，所谓“理性”居住的地方，尤其是前额叶）在进化历史上是较为新近的年代才进化出来的，跟底层较原始的模块（如主管情绪的杏仁核）之间的神经网络沟通并不是合作无间，这就解释了为什么有些事情我们明明知道是对的，但就是不能说服自己，情绪还是在那里不依不挠的驱使你去做另一样事情。

显然来自大脑的本能我们无法克服，但我们可以换个角度考虑这个问题，不再是考虑如何摆脱诱惑，而是如何培养一个定期学习的习惯。它们能达到一样的效果，而且相对来说，习惯养成比对抗本能显得更容易一些。

关于习惯有很多书专门去讲了，像是《习惯的力量》、《微习惯》等，这里不展开太多，仅说下我个人认为有用的几个小技巧：

* **拆分目标**：即微习惯，把定时学习拆分成每天 5-10 分钟的固定学习，目标越小，我们在准备实施的时候遇到的阻力就会越小。比如我自己的学习习惯，每天在群里分享一点自己学习的知识，平均准备时长在 10 分钟左右，偶有断开连接，但毕竟负担不大，多数时间都在坚持输出，已经差不多有一年时间了。其实类似的还可以是每天弄懂一个开发概念，每天读两页书等。**这一步是最关键，最重要的，因为大部分情况我们没能采取行动都是因为`杏仁核`的阻挠，微习惯的核心作用就是为了避开情绪的负担，先能够行动起来**。
* **找到监督环境**：即使习惯微小，要完全自觉可能还是有些困难的，可以附带施加一些外部监督力量。想象下在公司的一天和在家的一天，同样的时间，大部分人的工作效果都是在公司更好一些，因为公司相当于外部的监督力量，能提供更好的工作氛围。还是我那个例子，我是用交流群充当监督作用，因为知道有人在期待这个，所以我有不得不做的理由；类似的还有付费群，交钱入群，完成目标退钱，甚至还能挣钱；网络自习室，打开摄像头互相监督等。
* **提供奖励**：每完成一次目标都可以提供适当的奖励给自己，奖励的目的是让下次行动时能更容易一些，以此来形成一个良性循环。对我那个每日分享的微习惯来说，因为那些总结的内容，后期写文章都是有用到的，所以对我来说奖励就是提前启动准备工作了，后期写东西会更容易一些。当然大家可以根据自己的情况设置适当的奖励，比如增加一点娱乐的时间等。

这几点是按顺序来说的，也可以当做一个培养习惯的简单模型，实际场景大家可以根据自身情况适当调整。习惯的培养是一个持久战，不是坚持 21 天就算养成了，也不是中断了几次就是失败了，只管一点点持续下去，它总会反馈给我们好的结果。

如果对该话题有兴趣的小伙伴还可以评论区继续跟我们交流。

***
[@zhangferry](https://zhangferry.com)：最近在看一本书：《暗时间》，初听书名可能有些不知所云，因为这个词是作者发明的，我们来看[文中](http://mindhacks.cn/2009/12/20/dark-time/ "暗时间")对“暗时间”的解释：

> 看书并记住书中的东西只是记忆，并没有涉及推理，只有靠推理才能深入理解一个事物，看到别人看不到的地方，这部分推理的过程就是你的思维时间，也是人一生中占据一个显著比例的“暗时间”。你走路、买菜、洗脸洗手、坐公交、逛街、出游、吃饭、睡觉，所有这些时间都可以成为暗时间，你可以充分利用这些时间进行思考，反刍和消化平时看和读的东西，这些时间看起来微不足道，但日积月累会产生巨大的效应。

这里对于暗时间的解释是思维时间，因为思维是人的”后台线程“，我们通常注意不到它，可它却实际存在且非常重要。但按思维时间来说其适用的范围就有点窄了，大多数情况我们并不会一直保持思考。我尝试把刘未鹏关于暗时间的概念进行扩展，除思维时间外，还包括那些零碎的，可以被利用但未被利用起来的时间。“明时间”，暗时间倘若都能利用起来，那定是极佳的。

目前我有两个关于暗时间应用的实践：

1、在上下班走路过程中是思考时间。我现在换了一条上下班路线，使得步行时间更长，一趟在 15 分钟左右。这段时间，我会尝试想下今天的工作内容，规划日常任务；或者回忆最近在看的某篇文章，脑海里进行推演然后尝试复述其过程；或者仅仅观察路过的行人，想象下如果我是他们，我在另一个视角观察到的自己是什么样子。总之，让大脑活跃起来。

2、等待的过程是运动时间。等人或者等红绿灯的时候，我会尝试让自己运动起来，比如小动作像垫垫脚，大一点的动作像跳一跳、跑一跑。运动是一项反人性的事情，所以它不能规划，一规划就要跟懒惰做斗争，所以干脆就随时有空就动两下。通常这种小型的运动体验，如果突然因为要开始干正事被打断了，还会有种意犹未尽的感觉。

当然还可以有别的尝试，重要的是我们要明白和感受到暗时间这个东西，然后再想办法怎么利用它。至少在我的一些尝试中会让一些本该枯燥的时间变得更有趣了些。

***
[@zhangferry](https://zhangferry.com)：本期讲下高效记忆这个话题，多数内容来源于《暗时间》。关于知识书中有句话是这样说的：

> 你所拥有的知识并不取决于你记得多少，而在于它们能否在恰当的时候被回忆起来。

这让我想起爱因斯坦的一句话：

> 教育就是忘记了在学校所学的一切之后剩下的东西。

两种说法很相似，都在强调为我所用才是知识的真正价值。而为我所用的前提就是记忆，记住了，才有可能在适当的时候被唤醒，记忆与学习也总是相辅相成的。关于记忆有一个被广泛认可的机制：我们在记忆的时候会将很多线索（例如当时的场景、语言环境等）一并编码进行记忆，事后能否快速提取出来主要就取决于这些线索有多丰富。

针对这一机制有以下方法可用于加深记忆并辅助学习：

* 过段时间尝试再回忆。它的作用一方面是转换为长时记忆，还有一方面可以通过当前掌握的知识体系重新整合原有知识，这样有时还可以得到新的启发。
* 用自己的语言表述，书写下来，甚至讲给他人听。这个就是费曼学习法了，它的作用是确保不是我以为我理解了，而是我用自己的方式理解了。
* 气味，背景音乐，天气等这些外界因素，都可以作为线索进行编码记忆。有时我们偶然听一段以前的音乐，就能一下子回忆起当时的场景和感受，感觉尘封记忆被打开，DNA 动了一样，这些都是由于一个线索串连起来一系列回忆引起的。
* 对于经验知识的学习，光听别人说或者看着别人做还不够，我们可以努力设想自己处于别人的境地，感受它们，将它们和你的情绪记忆挂钩。
* 如果一件事情就是一件事情，那我们永远也无法学到“未来”的知识，所以我们还要剥去无关紧要的细节，抽象出那个关键点，这样才能进行知识的迁移与推广。

***
[@zhangferry](https://zhangferry.com)：近期的河南洪灾一直牵动人心，泄洪是治理洪水的有效措施，这次郑州泄洪的主要地方就有河南周口，下游是安徽的界首与阜阳。我是河南周口人，而我媳妇是安徽阜阳人，了解到各自家乡的情况之后，我们既感到心疼也感到自豪。

虽然天灾无情，但是有非常多感动人心的事情，一方有难八方支援，为每一个参与到河南抗洪救灾的人员致以最高的敬意。截止目前洪灾还没有完全退去，还不能掉以轻心。以下是我从多处官方新闻报道中总结的一些防洪应对指南，希望对大家有所帮助。

![](https://cdn.zhangferry.com/Images/20210725223708.png)

最后的最后，河南加油，安徽加油！

***
[@zhangferry](https://zhangferry.com)：今天看到一个视频，来自北医三院的薄世宁医生，他是危重医学科副主任医师，讲人在危重的时候，身体会有什么反应。当时看完还是比较震撼的，我们每个人的身体都是一个独立的小宇宙，我们应该好好爱护它，与它并肩作战。这里转成如下文字：

> 我们经常被教育在危难的时候要努力，但你可能完全不知道你身体里面的细胞比你还努力。人在大出血的时候血压会迅速下降，这么做的目的是为了减缓出血的速度，而且肾脏会没有尿，是为了把有限的血流供应给更关键的大脑和心脏。
>
> 我们每天，人体会有 3300 亿个细胞死亡，同时会新生出 3300 亿个新生的细胞。孕妇在即将生产的前几天，血液当中有一个凝血指标会升高几十倍，这么做的目的是为了防止生产过程有可能发生的大出血。你肯定还会想不到，心脏每一次收缩跳动，它的电活动是要从窦房结，到房室结，然后还要传导到心脏。当危难病重的时候，窦房结失败了，不能跳动了房室结开始替它跳，房室结也不能够传导的时候，心脏、心室开始自主逸博跳动。这个时候的跳动，心电图已经面目全非，人的血流也会非常微弱，但是即便是这么微弱的血流，也保证了大脑和心脏自身的供血，等着援兵的到来。你看，在危机时刻，所有这些细胞都在为你拼命，拼命到生命的最后一刻。
>
> 讲这么多其实就是要告诉你，你还有什么资格熬夜抽烟喝酒，虐待你身体里这些组织和细胞呢。在困难面前，你还有什么资格轻言放弃呢。

***
[@zhangferry](https://zhangferry.com)：看一张最近掘金的作者排行榜图片

![](https://cdn.zhangferry.com/Images/juejin_rank.png)

从上图发现，掘金排名靠前的前端和 Android 端有不少作者也有公众号，而 iOS 端却没有；另一个方面是，前端和 Android 靠前的都有不少是团队号，而 iOS 端基本都是个人创作者。因为这个排行是根据最近一段时间作者文章活跃度动态变化的，所以会存在一定的偶然性，但从中也能分析出一些端倪。以下是我总结出的几点（仅指掘金平台）：

* 资深作者不活跃：iOS 大号（等级高的号）创作活跃度不高，也可能偶然事件了，大号都在蛰伏下一篇。
* 写作环境不过滤：iOS 写作环境不好，这个由来已久了，一直以来都是面试文章为主，一些培训机构甚至都将掘金作为了学员练手的平台，真正分享项目经验、实践的较少。
* 创作环境难突围：掘金平台需要被推荐时才能更高的爆光量，同时，iOS 端作者写作公众号的较少。
* [@iHTCboy](https://ihtcboy.com/)：iOS 系统封闭，所以苹果提供的 API 统一和完善，大多数的 API 网络上已经有很多文章积累，而前端和安卓，因为系统兼容性和开放性，手机厂商多等，需要更多的技术探索。

整个反应出的就是 iOS 社区不活跃，但真是这样吗？单就前段时间老司机周报组织的 WWDC21 内参来说，参与者就有 200+，社区肯定还是活跃的啊。所以我得出的结论是，**就 iOS 博客环境来说，公众号要优于掘金**。紧接着就有了这次的想法，介绍一些优质的由个人维护的 iOS 开发公众号、博客、独立应用等，同时还会邀请对应的作者讲一下做这些内容的初衷，目前的运营现状和一些未来规划。

这次是第一期，邀请的是摸鱼周报联合编辑：展菲。

### 博主访谈

个人介绍：展菲，目前就职于外企，从事人工智能、智能家居研发工作。

公众号：Swift社区。

> [FBY展菲](https://github.com/fanbaoying)：公众号是由 Swift 爱好者共同维护，我们会分享以 Swift 实战、SwiftUI、Swift 基础为核心的技术内容，也整理收集优秀的学习资料。
>
> 做最好的 Swift 社区，我们的使命是做一个最专业最权威的 Swift 中文社区，我们的愿景是希望更多的人学习和使用 Swift。我们会不断维护优化
> ，持续输出优质的原创内容。不忘初心，牢记使命。
>
> 如果您对 Swift 感兴趣欢迎关注我们，有好的建议欢迎联系我们。

***
[@zhangferry](https://zhangferry.com)：上周跟 [@展菲](https://github.com/fanbaoying) 聊过之后，有了访谈各位博主的想法。博主 + 访谈，一方面可以给大家介绍优秀的开发者，另一方面访谈的形式方便近距离了解博主，学习他们思考和学习的方法。本期所选问题是一个初步尝试，大家如果有更好的问题，欢迎留言告诉我们。

本期介绍的博主也是摸鱼周报的一位联合编辑：[CoderStar](https://juejin.cn/user/588993964541288)。

### 博主访谈

zhangferry：简单介绍下自己和自己的公众号吧

> 我是 CoderStar，坐标北京，目前主要工作与 iOS 相关，对大前端、后端都有一定涉猎，喜欢分享干货博文。
>
> 公众号：CoderStar，分享大前端相关的技术知识，只聊技术干货，目前分享的内容主要是 iOS 相关的，后续还会分享一些 Flutter、Vue 前端等相关技术知识。目前公众号文章内容均是自己原创，很欢迎大家投稿一些好文章，大家一块进步。


zhangferry：为什么有写公众号的打算？写公众号有带来什么好处吗？

> 最开始写公众号的原因其实比较简单，
>
> 1、因为过去积累了一些笔记，比较零散，想整理一下；
>
> 2、觉得工作经验已经到了一定的阶段，也是时候将知识梳理一遍，打造自己的知识体系了，融会贯通；
>
> 3、是想把自己积累的一些技术知识分享出来，大家一起来交流，创造一个好的技术圈子，一个好的技术圈子实在是太重要了。

> 写公众号的好处：
>
> 1、写文章不仅能让我对一个知识点理解的更透彻，也增强了我的写作能力，对于技术知识而言，自己理解是一个阶段，深入浅出的写出来又是一个更高的阶段；
>
> 2、可以认识很多小伙伴，同行的路上不会孤单，比如和摸鱼周报就是这样结缘的。


zhangferry：最近在研究什么有趣的东西？是否可以透露下未来几篇文章的规划？

> 最近在做优化方面的事情，未来几篇文章可能会偏向优化系列或者底层相关。


zhangferry：如何让自己每周都能抽出时间写博客呢？有没有什么好的学习方法可以分享？

> 我目前更新的频率是一周一篇文章，一般工作日晚上会去看一些本期文章涉及的资料以及做一些代码实践，然后积累一些笔记，在周末时候将笔记进行整理聚合，形成文章，其实这个过程中还是比较累的，毕竟有的时候工作会忙，但是这个事情一定要坚持，给自己一个目标，不能随随便便就断更，毕竟有第一次断更就有第二次。
>
> 学习方法：说一点吧，我自己对于技术的态度是实践型+更优解，当看到一些好的文章的时候，会自己将文章里面的原理或者实现自己动手实践一下，考虑这个方法有什么缺点，并围绕这个技术点去思考有没有更好的解决方案，不断地去寻找更优解。

***
[@zhangferry](https://zhangferry.com)：本期访谈对象是 @七里香蛋炒饭，他也是交流群里的小伙伴。了解到他最近刚换工作，从某小公司入职某一线大厂，就邀请他来聊一聊面试的一些感想。

zhangferry：你面试准备了多久，大概的面试经历是怎样的？

> 整个面试过程大概有一个半月时间，前期是断断续续在看一些东西，后面有 3 周左右时间是重点准备。接到面邀的比较多，有些不感兴趣的就没去，实际参与面试的有 10 家，也都是一二线互联网公司。这侧面也说明了 iOS 没人要仅仅是个调侃而已，目前对 iOS 开发的需求还是不少的。

zhangferry：结合这些面试经历，有哪些高频题？遇到的算法考察多吗？

> 高频题的话内存管理和多线程肯定算是了，基本上每家面试都会问的。
>
> 另一个就是项目经历，也是必问的。这个一般会结合简历来问，特别是项目重点和难点，所以大家准备简历的时候一定要保证对所写的内容是很清楚的。对于非常喜欢的公司还可以根据他们业务需求有针对性的优化下简历。
>
> 另外，架构设计能力，封装能力，有时也会考察，这个短时间无法快速提升，需要平常工作过程有意培养一下。
>
> 算法的考察整体来看不算多，大概有 30% 的概率吧。那些考算法的也都是考察比较简单的题目，也可能跟我面试的岗位有关，这个仅供参考，面试之前，算法方面多少还是要准备的。

zhangferry：现在经常有人说面试八股文，结合面试经历，你怎么看待八股文这个事？

> 首先存在即合理吧，八股文的现象体现的是面试官自身准备的不足。可能来源于早期，大家技术水平都一般，没有太多可问的东西，也没有特意研究过哪些方面，所以就网上扒一扒拿来问。目前的经历来看到还好，被问的问题还算多元，可能这种现象之后会随着面试官水平的提升越来越少。
>
> 同时这也算是一种双向选择，如果某次面试全是那种眼熟的问题，毫无新意，大概率可以说明这家公司对技术的重视和钻研程度不高，可以降低其优先级。

zhangferry：对待参加面试的小伙伴有没有什么建议？

> 投递简历没有回复或者面试感觉还可以最后却没过，出现这些现象是有多种原因，比如岗位正好招满了、岗位需求有变等等，不要首先否定自己。面试过程一定要放平心态，不要有心理压力。
>
> 最后祝所有准备找和正在找工作的小伙伴都能拿到满意的 Offer。

***
[@zhangferry](https://zhangferry.com)：本期交流的小伙伴是摸鱼周报的另一位编辑：竹立。这个名字大家可能比较陌生，但是他的 ID 应该有很多人都听过：[皮拉夫大王](https://www.jianshu.com/u/739b677928f7)。竹立是一位非常资深的 iOS 开发，本期围绕职场和学习主题，跟他进行了一些交流。大家如果还有其他问题想问竹立的，可以留言区告诉我们。

zhangferry：简单介绍下自己吧。

> 大家好，我是来自 58 同城的邓竹立，目前在团队中主要负责 iOS 的性能优化及稳定性建设。

zhangferry：你对二进制的研究很深入，还在社区做过一次玩转二进制的直播分享，为什么会对这一领域感兴趣？能讲一些想要学好这方面内容的几点建议吗？

> 我对二进制的研究还远远算不上深入，可能在个别细分的领域有一点探索，但是从整体来说二进制涉及的知识太庞大，因此还算不上深入。对二进制的探索主要是之前的技术项目所引导的。当时在做技术项目时遇到了一个问题：“如何动态调用项目中的 static C 函数？”，当时感觉研究的方向应该为 mach-o 文件，最终随着调研的慢慢深入，也就对二进制文件有了一定的了解。
>
> 想要学习二进制相关的内容其实我没有特别好的建议，因为我并没有成体系的去学习这方面内容，更多的是利用空闲时间凭借个人的兴趣去探索。有兴趣才会在探索过程中感受到有所收获，在其他技术方向上也是这样。如果大家对二进制文件解析感兴趣，58 同城近期会有一次线上技术沙龙（具体时间还未定，估计得 10 月后了），主要介绍 58 如何打造集团内 Swift 混编生态的。我会借助沙龙的机会介绍下 Swift 的二进制解析。

zhangferry：作为一位资深开发，能讲下你认为的高级开发和资深开发之间的区别吗？在你看来要达到资深开发需要具备哪些素质？

> 可能各家公司对高级和资深的定义不太一致。我理解资深开发相对于高级开发更具备触类旁通的能力，或者说是能根据以往的经验提取方法论应用到其他领域。因此从高级到资深可能需要在多个方向上有较好的理解。资深开发更应该从公司和产品的角度考虑问题，多问几个为什么，多关注事后的结果，而不是产品安排什么就做什么。另外，在沟通能力上的对资深开发的要求也会更高一些。

zhangferry：你具有多年面试官的经历，能简单总结下你认为的什么才是好的候选人以及他们需要具备哪些素质吗？

> 由于团队职责可能不同，因此每个团队招人的标准存在一些差异。比如有些团队可能对 RN/Flutter 等技术的应用比较看重，有些团队对底层技术比较看重，但是这些差异都是表象的差异。优秀的团队更注重候选人更深层的东西，这些东西可能在短期内无法突击弥补的，比如对技术探索的欲望、思维的灵活性、学习能力、抗压能力、责任心等等。就我所在的团队而言，在技术上，我们更关心的是候选人是否已经找到技术成长的第二曲线。（第二曲线摘自于《第二曲线：跨越“S 型曲线”的二次增长》，书我没看过，图与我脑海中的模型很像，所以在此引用）
> 
>![](https://cdn.zhangferry.com/Images/20210828093945.png)
>
> 或者通过面试能让我们看到即使候选人目前还处于成长期，但是经过培养是可以有更长远成长的。很多团队招人不外乎就这两种：要么候选人现在很厉害，要么候选人将来很厉害。
>
> 一些场景比较复杂的大型 APP，有些问题比较复杂，不是特别好定位，这需要一定的技术基础，灵活的思维，甚至要求心理素质过硬。大家可以看下我的[2019年终总结](https://www.jianshu.com/p/0a4831219cba "皮拉夫大王 2019年终总结")中提到的 **<工作篇>**，我整理了日常工作中遇到的部分问题记录到总结中，这也是 58 T5级别工程师的日常工作内容和要求。
>
> 如果作为团队的老板，你肯定希望自己的属下能够具备打硬仗的实力，而不仅仅是写写需求做做任务，在关键的时刻能够攻坚克难才是团队价值的体现。以上几点要求如果只是看看面经，刷刷算法可能还不够。因此在日常工作中，我们就应该养成良好的习惯，多问几个为什么，多做探索调研和储备，不要放过一些细节。
>
> 回到正题，我们从简历和面试的实际情况来看下有哪些是被鼓励的：
>
>（1）项目经历（这里不是指写了哪些 APP）比较匹配。比如团队目前的重点在与包大小治理，如果你的简历中有相关实践并且做的比较深入，那这就是加分项。
>
>（2）令人耳目一新的技术。有些技术比较前沿或者并未广泛被大家所熟知，在这个领域候选人有较深入的研究。（这表明候选人已经找到了第二曲线）
>
>（3）能证明自己探索和专研能力的经历。简历中有具体的事件能体现出候选人的这方面优势。（具备找到第二曲线的潜力）
>
>（4）灵活的思维能力。算法或者临场方案设计比较完善，考虑的比较完备。
>
>（5）良好的抗压能力。如果在高压的面试情况下，不烦躁不放弃，依旧能保持冷静思考。
>
>（6）能体现出良好的学习习惯。高质量的博客文章、开源代码等都是加分项。临时凑数的可能起不到作用，我一般会留意内容质量和发布时间密度。
>
>（7）业界视野。能关注业界的一些动态，对业界的一些热点技术比较熟悉。
>
>（8）坦诚而良好的沟通。
>
>（9）有足够的入职意愿。
>
>（10）最后就是稳定性、工作背景、学历等条件。

zhangferry：如何保持学习热情，给我们分享一些你的学习方法吧。

> 学习主要还是需要制定大的方向，然后在具体实施时会对自己做一些鼓励。这些鼓励的行为包括：写文章、在团队内做技术分享、对外交流等等。在团队内我的文章数和分享数常年领先，因为写文章和分享会促使我重新审视和思考，对成长有极大的好处。对外交流获得的成就感会更大一些，但是需要更谨慎，尽量保证自己输出的内容是准确的，一旦内容有明显纰漏，丢自己脸事小。。。

zhangferry：个人有什么想法，可以借助于摸鱼周报进行宣传的。

> （1）希望大家多多关注 WBBlades 开源项目：https://github.com/wuba/WBBlades ，觉得 OK 的话给我个 star 鼓励一下。
>
> （2）58 主 APP、人人车、到家精选等团队正在招人，简历可以投递到 zhulideng@yeah.net。秋天到了，我想赚点内推费填几件衣服。

***
[@zhangferry](https://zhangferry.com)：本期交流对象是摸鱼周报的另一位编辑：[🐻我是熊大](https://juejin.cn/user/1151943916921885/posts)。他在音视频方向有很多经验，自己也独立维护了两款应用，我们围绕这两个层面来和他交流一下。

zhangferry：简单介绍下自己吧。

> 大家好，我是熊大，野生iOS开发者，目前正在做一款海外社交 App，在团队中主要负责 iOS 的架构设计以及性能优化。

zhangferry：你有多款独立开发的应用，能简单介绍下当时独立开发的初衷和现状吗？

> 独立开发的产品是[《今日计划》](https://apps.apple.com/cn/app/id1505020317)、[《imi我的小家》](https://apps.apple.com/cn/app/id1543829703)。
>
> 当时做独立开发的目的有两个：一个是自己有些想法想要实现出来，二是希望能有睡后收入。之前认为独立开发可能需要更多时间投入，后来发现独立开发最首要的问题不是时间，而是运营和验证；如何找到产品定位人群，如何优化 ASO，关键词如何填写，产品留存达到多少才是及格？这些都是初次尝试独立开发容易忽略却不得不面对的挑战。也正因此，我做了个公众号[独立开发者基地](https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=Mzg4OTU1Njk1MQ==&scene=124#wechat_redirect)，分享独立开发遇到的问题。

zhangferry：在你看来要做独立开发需要具备哪些重要技能呢？

> 以下 5 个方面可能是我们需要的：
>
> 1、具备产品思维，能编写需求文档，分析产品数据，摸索产品方向。
> 
> 2、具备使用 Sketch、Figma、蓝湖的能力。
> 
> 3、运营推广能力，如何让app能被更多的人知道，如何召回用户
> 
> 4、具备iOS、Android、小程序等一个或多个的开发能力
> 
> 5、后端开发能力，其实这个前期可以使用第三方代替
> 
> 这些都是硬件实例，最关键的还是执行力和创造力，如果你有想法，那就不要等待。

4、你的工作中多涉及音视频技能，能说下音视频开发和普通应用开发有什么区别吗？如果想往这个方面学习，需要注意和关注哪些东西。

> 在我的工作中，音视频开发主要涉及到AVFoundation、FFmpeg、OpenGL ES、MetalKit等框架。
> 
> 音视频开发入门会更难一些，需要有图形图像学的基础知识；有时需要编写 C\C++ 代码，很多第三方的音视频库都是 C\C++ 写的，比如常用的 libjpeg-turbo、lame；同时要熟悉CMake工具进行编译等。
> 
> 推荐学习路线:
> 
> 1、数字图像的基本知识
> 
> 2、开源库 GPUImage，AVFoundation + OpenGL ES,2016年时，很多第三方SDK图像处理框架都是基于这个开发的。
> 
> 3、开源库 GPUImage3，这是AVFoundation + Metal。
> 
> 4、李明杰老师今年有一个FFmpeg的课程。
> 
> 我在小专栏开了一个介绍音视频技术的专栏：[GPUImage By Metal](https://xiaozhuanlan.com/GPUImage "GPUImage By Metal")，大家如果对这类知识感兴趣的话欢迎订阅。另外再送大家一些免费领取资格，名额有限只有十个，[点击这里领取](https://xiaozhuanlan.com/GPUImage/present/42a8fba462217d3717c54d707db55ae7b49d86ce "GPUImage By Metal 专栏领取链接")。（公众号外链无法跳转，专栏领取链接在下方参考资料中）

5、如何保持学习的热情，能否分享一些你的学习方法。

> 保持热情的最好办法就是热爱或追求。
> 
> 1、学习要循序渐进，不要一下学太多，陌生的东西太多会打消积极性。
> 
> 2、如果遇到几天都无法理解的东西，放一放，发酵几个月后再看。
> 
> 3、要有目标和实践方案

6、有什么需要借助于摸鱼周报宣传的。

> 1、希望大家多多关注 SpeedySwift 这个开源项目：https://github.com/Tliens/SpeedySwift ，这是一个用于提效 Swift 开发的仓库，觉得 OK 的话给我个 star 鼓励一下吧。
> 
> 2、北京连趣科技，寻找一起并肩作战的小伙伴，各个岗位都有需求，简历可以投递到 tliens.jp@gmail.com，我的微信：`bear0000001`。

***
[@zhangferry](https://zhangferry.com)：这期参与访谈的对象是摸鱼周报的另一个编辑：[RunsCode](https://github.com/RunsCode)，RunsCode 在我看来是一个非常酷的人。这个酷来自于他很强的学习能力和个人要求，编程和兴趣爱好都能被他玩出花来。下面通过几个问题，一起了解下他。

zhangferry：简单介绍下自己吧。

> Hello，大家好我是 RunsCode，目前就职于 Hello出行，坐标杭州。
>
> 小时候因为沉迷于电脑游戏，毕业后入坑做手游，后来机缘巧合之下结识 iOS，从此移情别恋了，跟 iOS 相爱相杀至今。

zhangferry：你的学习范围比较广，安卓、Ruby、Applescript 都有写过，你是在什么场景下接触一门新语言的？学习一门新的语言，首先应该关注哪部分内容？

> 因为之前做的 cpp 游戏要做移动端跨平台移植对接移动支付 SDK，被迫学了 Android 和 iOS，但是还是被 iOS 的纯粹给吸引了。后来在 15 年搞 iOS 的过程中来了一个 CSDN 当时前十的大神当我们领导，开拓视野学习 Swift 和 Ruby，因为他说 Swift 借鉴了很多 Ruby 的特性，再加上 CocoaPods 也是 Ruby 写的，也就稍稍学习了一下。AppleScript 也是这个 CSDN 大神提醒的搞 Mac 自动化，后来也是一发不可收拾。
>
> 这些语言对我而言他们共性是让我写起来很开心，就像那种小孩子看到好吃的那种感觉（主要说 Swift 和 Ruby）
> 其实学语言都是有针对的学习，不同的语言都是有自己擅长的领域，比如说我要用 Ruby 写一个 iOS App，这就有点过分了，相比 OC/Swift 这就不是很适合了，虽说有点过分，但是真的有人这么干了，可以了解下 [RubyMotion](http://www.rubymotion.com/ "RubyMotion")，真是极客啊。
>
> 个人觉得学习一门新语言除了一开始掌握基本的词法语法之外，慢慢的你就会发现这个语言跟你有没有共鸣，你的思路跟它的处理逻辑是不是很契合，就像大家都喜欢脚本 Python 我却更喜欢 Ruby，这主要是Ruby 的处理逻辑跟我很契合，就是同样的展示你用德玛习惯，我却用吕布更加习惯。

zhangferry：听说你乒乓球和魔方都玩的很好，这些东西的学习跟编程有没有什么共性呢？我之前也着迷过一段时间魔方（三阶），但最快也要 2min 以上，听说你的记录是 15s。由不会到会再到熟练是相对简单的过程，一般人都能做到，但再往上突破就很难了。就魔方来说，1min 对我来说就是一个大的突破了，如果要达到这一步需要做哪些事情呢？

> 乒乓球会一点，请过教练专门训练过基础技能，不能说玩的很好，跟小区大爷打球有时候经常翻车的，尤其打长胶翻车不少，哎......
>
> 魔方这个吧，就是比一般复原的稍微快一点，三阶止步 CFOP。
>
> 跟编程的共性：兴趣第一， 然后就是坚持，用正确的方法刻意练习就是了（高手都是寂寞的）。
>
> 一分钟还原三阶魔方来说，学会七步还原法，然后在苦练一个礼拜，每天练习两个小时应该就差不多了。当然掌握正确手法的天赋型选手也许只要两三天。
>
> 然后最重要的事情说三遍，买个好魔方， 买个好魔方， 买个好魔方！！！
> 千万不要买路边摊十块钱那种啊，那种容易卡住或者 POP（就是爆炸开了），及其打击自信，过来人血的教训。
>
> 怎么的也得三十块起步，国甲，孤鸿，圣手这种吧。
>
> ![](https://cdn.zhangferry.com/Images/魔方.jpeg)

zhangferry：学习很多时候并不是有趣的，该如何保持学习热情？

> 这个我不知道怎么回答，或许是好奇，或许是焦虑，或许是爱好兴趣。我只知道是这三点支配了我。还有就是我只做自己喜欢的事情，我从不跟风，跟风容易迷失自己，适合别人的不一定适合自己。
>
> 主要还是要坚持，坚持下去能让人更坚定。时间长了你就习惯学习了，如果突然一下子你不学习，你是不是都会感到空虚、焦虑和内疚吧，哈哈哈。
>

zhangferry：说一个最近的思想感悟吧。

> 提升生活幸福感还是要终身学习，不仅限于工作技能，其他一切都可以。

***
[@zhangferry](https://zhangferry.com)：yuriko 是群里非常活跃也很有趣的一位小伙伴，工作时间还不是太长但学习热情很高，一起来了解下他是如何看待学习这件事的。

zhangferry：简单介绍下自己吧。

> 大家好，我就是我们成长之路群里自诩瓜皮的同学，为什么我自诩瓜皮呢，因为我 19 年毕业，就工作经验而言对于很多前辈而言还是稚嫩了些。刚毕业时去了一个 P2P 背景的公司，后来 P2P 在疫情前没几个月就倒了，急于找到一份工作，去了一家传统行业做开发，然后今年跳槽去了家互联网股票头部公司。

zhangferry：你之前在传统企业也工作过，传统企业跟互联网公司工作的感受有什么不同。

> 就拿我之前的公司而言，最大的不同就是对开发过程的重视，对技术的重视程度不同。
>
> 虽然我之前待的传统行业，就这家公司而言，员工也是不少，但是对于开发部门来说，完全就是个小作坊。没有合理的生产流程，只注重生产出产品（其实也不是很注重）。一个人负责的东西很杂，测试离职后就只能自测，甚至有一个星期被迫下店当了店员（一生黑）。其实我之前早就想要离开那里，可是碍于疫情只能多留了一年。
>
> 现在在这家公司，最大的感受就是流程规范了许多，公司重视技术，有定期的技术分享，生产流程也规范了许多，也有内部的自动化平台，目前也有机会参与公司的自动化流程构建优化（脚本自动化打包等），感觉在这里可以接触到学习到很多东西。

zhangferry：感觉你兴趣范围挺广的，逆向、算法，这些由兴趣推动的技术方向，你是如何保热情持续不断的学习的呢？

> 也可以说是一种有目标，也是为了成功的成就感。
>
>在我看清了前司要离开却迫于疫情留下后，我就知道要为以后做打算了，于是我每天开始刷算法题，每个模块有目的性的做下来，然后参照题解，分析自己的时空复杂度是否有优化空间。在换工作前做了300 余道算法题，刷算法的同时感受到了算法思维的重要性。
>
>逆向的学习也是机缘巧合，当时我的好基友有一款付费办公软件找我，希望我能破解。当时我就决定去学习这部分的知识。学了一段时间，也买了 Hopper 作为分析工具，帮基友破解掉了里面的内购付费功能。为了简化部分重复的工作，抽了一段时间学习写 Shell 脚本（也稍微了解了 Python，以后会详细学习），然后自写了一套重签名脚本。软件破解成功以后我真的是满满的成就感。

zhangferry：有了学习动力还需要一些学习方法，分享一些你的学习方法吧。

> 我认为最重要的是要有目的性，当初我决定要跳槽后，基本上能抽的空闲时间都抽出来了，地铁上刷 MJ 的视频，回去以后打开 Leetcode 刷题，每天制定学习的时长，时间不到不能进行娱乐活动。然后只玩休闲类益智类游戏，保证不会在游戏上花掉太多时间。像现在的话，我虽然已经没有跳槽的目的性，不过最近 *OS internals part3 译本已经出来了，我也购入了一本，当前目标就是先读完这本书。虽然里面有很多陌生的概念，也磕磕绊绊的看了一百余页。所以对我而言，目的性是我学习的最大动力。

zhangferry：说一下最近的思想感悟吧。

> 主要就是想以我自己的经历，向跟我差不多年龄的同学分享下，一定做好职业规划。之前我去那传统公司也是看人比较多，结果却大失所望，走了不少弯路。但是也是因为在那个公司，我才明白了只有提升自己才能进入好企业来摆脱它。
>
> 之前看群里的同学们，有分享过一些开发者视频（油管上的），都是英文的。感觉虽然工作了，英语也是相当重要，建议英文基础薄弱些的同学还是花些精力在这里，毕竟一手的资料比二手的译本更能代表原作者的意思是吧。
>
> 如果有什么想跟我聊的欢迎在群里骚扰我哈，基本秒回^_^

***
[@zhangferry](https://zhangferry.com)：本期访谈内容独立成篇了，大家可以查看本期公众号推送的次条，或者访问这个链接[人物访谈--微软Offer之路](https://zhangferry.com/2021/10/14/weekly_interview_zhanganyu/ "人物访谈--微软Offer之路")

本期摸鱼周报迎来一位新伙伴：东坡肘子。肘子之前因为身体原因修养过一段时间，也因为身体的原因需要做健康记录，但并没有找到满意的记录方式，于是决定自己开发，由此结缘 iOS 做起了独立开发。之后我们还会对他进行一次访谈，带大家了解他的更多故事，大家也可以关注他的博客：*肘子的 Swift 记事本 https://www.fatbobman.com/*。

******
本期访谈内容准备有些晚了，暂停一期，下次一定😅。

苹果官网经常会更新一些活动或者开发相关的一些资讯，我们打算定期做一些整理和筛选，以帮助大家了解相关信息。

### In-App Events（App 内活动）

整理编辑：[iHTCboy](https://ihtcboy.com/)

App 内活动是指 App 和游戏内的时效性活动，例如游戏竞赛、电影首映和直播体验等。用户能够直接在 iOS 和 iPadOS 上的 App Store 中探索您的 App 内活动。无论您是想吸引新用户，还是向当前用户提供最新信息，或是与以前的用户重建联系，这项功能都能够助您以全新的方式展示您的活动并扩大其触及的用户群。

苹果在 10 月 22 日开放后台，可以上传活动素材提交审核。需要注意的是，此功能目前是测试阶段，需要开发者接受此协议才生效。

![](https://cdn.zhangferry.com/Images/WechatIMG312.png)

![](https://cdn.zhangferry.com/Images/WechatIMG313.png)

2021 年 10 月 27 日起，在 iOS 15 以上设备的 App Store 上，用户可以看到 App 内活动。

![](https://cdn.zhangferry.com/Images/WechatIMG314.jpeg)


详细，参见：https://developer.apple.com/cn/app-store/in-app-events/

***
### [使用 TestFlight 测试 Mac App](https://developer.apple.com/news/?id=0bemba6j "使用 TestFlight 测试 Mac App")

现在，你可以邀请用户试用你的 Mac app 的 Beta 版，在发布前为你提供宝贵的反馈。通过 TestFlight，你可以对多达 10000 名测试人员发出邀请。TestFlight 在 Mac 端的使用与移动端无异。

安装地址：https://apps.apple.com/cn/app/testflight/id899247664

版本要求：最低 macOS 12.0（Monterey）

***
[@zhangferry](https://zhangferry.com)：苹果发布了年末两个重要假期关于 AppStore 审核的声明。往年圣诞节期间一般都是停止审核的，今年则会正常接受提交。但是在 11 月 24 号到  28 号（感恩节），和 12 月 23 号到 27 号（圣诞节）之间的提交审核流程会比较慢。如果可以错开排期的话尽量不要在这个时间段提审。

信息来源：[Submissions now accepted through the holidays](https://developer.apple.com/news/?id=y4fgrhhe "Submissions now accepted through the holidays")

***
[@zhangferry](https://zhangferry.com)：Apple 宣布推出自助维修计划。Apple 将面向个人消费者提供零件、工具与维修手册，从 iPhone 12 与 iPhone 13 开始。搭载 M1 芯片的 Mac 电脑也将很快加入。自助维修计划将从明年初开始在美国率先启动，并在 2022 年或更晚推广到其他国家。

这跟苹果的环保政策相符，可以预料到本来就很能打的 iPhone 更换原装部件之后再多用个 1-2 年也不是啥难事。虽然惠及的用户不会特别多，但是苹果的做法还是值得点赞的。

同时这也带来一个问题，自助维修算是一件有一些技术操作的事情，如何保证操作的正确性？

想起之前我自己给 iPhone 换电池的经历，前两次换 iPhone6SP 电池成功。对自己有了一定的信心，结果，第三次给 iPhone7P 换电池就失手了，不仅因为电池排线插的错位导致一块电路板烧掉，还扯断了连接 Home 键的一根线。有一部分原因是手机屏和后盖的链接方式从之前的前后变成了左右，操作空间变小了，但更主要的还是相应知识的缺乏。这还只是简单的电池，像是摄像头的更换将会更复杂。所以这个自助维修计划比较重要的是应该允许哪些人能够自助维修，如何评估这些人。

题外话：如果自己修坏了，肯定还是算到自己头上的吧🤔。

信息来源：[Apple 宣布将推出自助维修计划](https://www.apple.com.cn/newsroom/2021/11/apple-announces-self-service-repair/ "Apple 宣布将推出自助维修计划")

******
[@zhangferry](https://zhangferry.com)：知名 Markdown 编辑软件 Typora ，最近迎来了最新的 1.0 版本（正式版）。这次更新功能上没啥大变化，最大的变化是从之前的免费变为了付费。

![](https://cdn.zhangferry.com/Images/20211203010042.png)

这在官方 Github 的 [Issus](https://github.com/typora/typora-issues "typora-issue") 里早有说明：

> Typora is a minimal markdown editor, providing new ways for reading and writing markdown. It is currently in beta.
> Typora is commercial software (not open source), but is free during beta. Typora on GitHub supports collaboration between its developer, and its user community, providing a place to transparently report issues, collect feedback and discuss future direction. It also provides open source resources for user customization of themes.

Typora 的口碑一直很好，在各类 Markdown 软件的推荐中基本都是排名首位。我也是 Typora 的重度用户，借助于 Typora 精巧的单栏设置，配合 Orangheart 主题、PicGo 图床插件，可以很方便的输出和排版每篇公众号文章。

面对这次由免费转付费的事情，网上有不少文章都在说放弃 Typora，还推荐了很多平替方案，却少有人站出来说应该支持开发者，多少有一点让人感觉遗憾。

Typora 的收费标准：89 元（可支付宝）、买断制（终身）、最多三台设备（可重置）。这相比很多按年续订，动辄上百的产品，价格上算是良心了，况且 Typora 已经免费 6 年了。

说回付费本身，好的软件就应该是有收益的，有了收益作者能更专注地设计开发产品，更好的产品能给我们带来更多便利，最终还是回馈到用户自身，这是正向循环。单纯为爱发电的事也能持续，但肯定持续不久。所以如果你感觉它好，你喜欢它，那就支持一下吧。


同时我也理解大家并非都是 Typora 重度用户，我保存了收费前的那个版本（v0.11.18），大家如果不小心安装了最新版还想继续白嫖的话可以在公众号后台回复：Typora，下载旧版本。

再来说说 Typora 这个软件吧，创建于 2014 年，作者 Abner Lee 还是一位国人，为人非常低调。只找到他 2015 年在 Medium 里发的一篇介绍为什么设计 Typora 的文章：[Introduce Typora — Why another markdown editor](https://medium.com/@LeeAbner/introduce-typora-why-another-markdown-editor-c86e679828d5 "Introduce Typora — Why another markdown editor")  。文中对当时 Markdown 工具的分析可谓句句精准，特别是当时主流双栏设计的种种问题。好的产品就是能发现痛点，解决痛点，Abner Lee 创新性的使用了单栏设计，让 Markdown 编辑变得简洁而高效。在这之后越来越多的 Markdown 工具也都开始使用单栏的编辑模式，算是改变了一个软件的设计规范。 

到如今已经 7 个年头了，利用 7 年时间打磨一款产品之后才进入付费阶段，这也是一种负责的态度吧。Typora 已经吸引了大批用户，我也是忠实粉丝之一，希望新的阶段它能越来越好！

***
[@iHTCboy](https://ihtcboy.com)：12 月 8 号，苹果正式开放 AppStore 的 2 个重磅功能：

* Custom product pages（自定义产品页）
* Product page optimization（产品页优化）

默认 App Store Connect 后台是没有这些功能，开发者需要通过 [Updated App Store Submission](https://developer.apple.com/app-store-connect/submission-update/ "Updated App Store Submission") 页面接受苹果的内测协议后，才能使用这些功能。

具体的功能介绍可以参考苹果文档：[Product Page Optimization](https://developer.apple.com/app-store/product-page-optimization/ "Product Page Optimization") 和 [Custom Product Pages](https://developer.apple.com/app-store/custom-product-pages/ "Custom Product Pages")。

***
[@zhangferry](https://zhangferry.com)：12 月 13 号，Apple 发布了 Xcode 13.2 和 iOS 15.2 的正式版。其中有几项新功能值得关注。

### [Xcode 13.2](https://developer.apple.com/documentation/xcode-release-notes/xcode-13_2-release-notes "Xcode 13.2")

编译系统和 Swift 编译器有了一个新模式可以充分利用 CPU 核心，以达到优化 Swift 项目的效果。该模式可选，可以执行如下命令打开：

```bash
defaults write com.apple.dt.XCBuild EnableSwiftBuildSystemIntegration 1
```

### [iOS 15.2](https://developer.apple.com/documentation/ios-ipados-release-notes/ios-ipados-15_2-release-notes "iOS 15.2")

是关于 StoreKit 的新特性：

* StoreKit 中展示退款请求的弹窗可以在 Xcode 中进行测试了。UIKit 模式下可利用：[`beginRefundRequest(in:)`](https://developer.apple.com/documentation/storekit/transaction/3803220-beginrefundrequest) 或者 [`beginRefundRequest(for:in:)`](https://developer.apple.com/documentation/storekit/transaction/3803219-beginrefundrequest) ，SwiftUI 下可利用 `refundRequestSheet(for:isPresented:onDismiss:)` 作为视图修饰器。
- StoreKit 中管理订阅的弹窗也可以在 Xcode 中进行测试了。 UIKit 模式下课利用 [`showManageSubscriptions(in:)`](https://developer.apple.com/documentation/storekit/appstore/3803198-showmanagesubscriptions) ，SwiftUI 下可利用  `manageSubscriptionsSheet(isPresented:)` 作为视图修饰器完成。

- 新的 [`SKTestSession.TimeRate`](https://developer.apple.com/documentation/storekittest/sktestsession/timerate) 值可用于 StoreKit Test 模块的自动化测试。

******
[@zhangferry](https://zhangferry.com)：2022 年第一期摸鱼周报，从本期开始我们会使用新的封面，新封面由设计师朋友 Polaris 设计。这个场景表达的主题就是摸鱼，工作中的摸鱼不代表我们不尽职，而是我们对自由生活的向往。既要努力工作也要 Work Life Blance，2022 年，加油！

***
### In-App Events 数据分析功能上线了

In-App Events 的展示效果数据可以在 App Store Connect 中的 App 分析查看了。应用分析还包括事件的页面展示，提醒和通知数据，以及由你的 In-App Events 触发的下载和重新下载的数量。每个指标都可以根据区域、资源类型、设备等进行查看，这样你就可以了解 In-App Events 是如何影响应用的发展和成功的了。

[Analytics now available for in-app events](https://developer.apple.com/news/?id=pa0x2dzk "Analytics now available for in-app events")

### 线上直播沙龙 - 抖音 iOS 基础技术大揭秘

**内容介绍**：如何保证抖音 App 的稳定性？如何给用户带来如丝般柔滑的流畅体验？如何在用户弱感知甚至无感知的情况下，推进抖音 App 的架构演进？如何利用容器等技术推进自动化测试？字节自研的 iOS 构建系统 JOJO 又是如何实现超级 App 构建效能提升 40% 的？本期字节跳动技术沙龙将以《抖音 iOS 基础技术大揭秘》为主题，为你全面揭开抖音 iOS 基础技术背后的技术能力！

**沙龙时间**：2022 年 1 月 22 日 14:00-17:25

**报名地址**：[字节跳动技术 iOS 技术沙龙正式报名开启](https://mp.weixin.qq.com/s/yPTIOxJtl4BsjkDN0rXDdw)

***
### 2022年1月31号之后提交的应用需提供账号删除功能

内容如题，该项要求是 2021 年 10 月 6 号提出的，主要目的是加强苹果生态的隐私保护。在 App Store 审核指南的 5.1.1 条款第 v 条更新了这句话：

> If your app supports account creation, you must also offer account deletion within the app.

但对于如何设置该功能，苹果并没有明确的要求。如果删除用户账号，应用端可以根据相关法律继续保留用户信息，但这需要在隐私政策中进行说明所采集用户数据的内容和保留策略。

[Account deletion within apps required starting January 31](https://developer.apple.com/news/?id=mdkbobfo "Account deletion within apps required starting January 31")

***
[@zhangferry](https://zhangferry.com)：Apple 最近开源了 [dyld4](https://github.com/apple-oss-distributions/dyld/ "dyld4") 的代码。通过阅读它的 Readme 文档，我们可以大致了解到 dyld4 相对 dyld3 做的改进有哪些。dyld3 出于对启动速度的优化，增加了启动闭包。应用首启和发生变化时将一些启动数据创建为闭包存到本地，下次启动将不再重新解析数据，而是直接读取闭包内容。这种方法的理想情况是应用程序和系统应很少发生变化，因为如果这两者经常变化，即意味着闭包可能面临失效。为了应对这类场景，dyld4 采用了 Prebuilt + JustInTime 的双解析模式，Prebuild 对应的就是 dyld3 中的启动闭包场景，JustInTime 大致对应 dyld2 中的实时解析，JustInTime 过程是可以利用 Prebuild 的缓存的，所以性能也还可控。应用首启、包体或系统版本更新、普通启动，dyld4 将根据缓存有效与否选择合适的模式进行解析。

dyld3 在不使用启动闭包的情况下会 fallback 到 dyld2，两套代码分别在两边，不利于行为的统一和维护，dyld4 做了逻辑统一（@鹅喵 补充）。所以 dyld4 的设计目标是更优的兼容性和逻辑统一。

还有一点，细心的开发者还在 dyld4 源码里发现了 realityOS 及 realityOS_Sim 相关的代码注释。很大可能苹果的 VR/AR 设备已经准备差不多了，静待今年的 WWDC 吧。

![](https://cdn.zhangferry.com/Images/20220217221153.png)

地址：[apple-oss-distributions/dyld](https://github.com/apple-oss-distributions/dyld/blob/5c9192436bb195e7a8fe61f22a229ee3d30d8222/common/MachOFile.cpp#L578 "apple-oss-distributions/dyld")

***
[@zhangferry](https://zhangferry.com)：Apple 将在 iPhone 上推出 Tap to Pay 功能，即可以通过简单的操作行为 -- 轻触，完成在商户端的付款过程。该功能通过 NFC 实现，非常安全，支持 Apple Pay、非接触式信用卡、借记卡以及其他数字钱包，这意味着 iPhone 将具备类似 POS 的功能，客户可以直接在商户的 iPhone 上刷信用卡进行消费。该功能仅 iPhone XS 及之后的机型支持。

![](https://cdn.zhangferry.com/Images/Apple_Apple-Pay_Payment_inline.jpg.large_2x.jpg)

Stripe 将成为第一个在 iPhone 上向其商业客户提供 Tap to Pay 的支付平台。其他支付平台和应用程序将在今年晚些时候推出。

[Apple empowers businesses to accept contactless payments through Tap to Pay on iPhone](https://www.apple.com/newsroom/2022/02/apple-unveils-contactless-payments-via-tap-to-pay-on-iphone/ "Apple empowers businesses to accept contactless payments through Tap to Pay on iPhone")

***
[@zhangferry](https://zhangferry.com)：

### 苹果公司宣布暂停在俄销售产品并关闭部分功能

根据 CNBC 的[报道](https://www.cnbc.com/2022/03/01/apple-halts-product-sales-in-russia-.html "Apple halts product sales in Russia")，苹果公司在3月1号表示，已停止在俄罗斯的产品销售。与此同时，属于俄官方媒体的两款应用被下架，该地区 Apple Pay 等功能受限。以下是苹果发言人的原话：

> We have taken a number of actions in response to the invasion. We have paused all product sales in Russia. Last week, we stopped all exports into our sales channel in the country. Apple Pay and other services have been limited. RT News and Sputnik News are no longer available for download from the App Store outside Russia. And we have disabled both traffic and live incidents in Apple Maps in Ukraine as a safety and precautionary measure for Ukrainian citizens.

有很多人说应该支持国产手机了，但国产也是魔改的安卓系统，这虽没有像苹果那样被牢牢掌控，也并非完全的可控。这几天不只是苹果，谷歌、推特、台积电、英特尔，甚至连开发社区 Github、开源库 React 都在抵制俄罗斯，「科技无国界」已经完全沦为一句笑话，这不禁令人惶恐。

现代战争是复杂的，它不只是枪炮还会伴随着各类舆论战、信息战，而信息战的主动权就掌握在拥有核心技术的一方。反观俄罗斯，类似的事情是不是也会发生在我们身上？由此事件引发的思考是，仅仅用言语冲了某个社区留言板是不够的，打破垄断，不断提高我们自己的核心技术能力才是王道。科技强国，吾辈当自强！

***
[@zhangferry](https://zhangferry.com)：苹果在北京时间的3月9号凌晨举行了春季发布会，本次发布会也是诚意满满，带来了很多惊喜。这最重要的就是 M1 Ultra 芯片，M1 Ultra 是两颗 M1 Max 的组合，但这也不是简单的拼接，而是得益于M1 Max 的隐藏特性：突破性的晶粒到晶粒技术，然后使用了一个叫做 UltraFusion 的封装架构将两颗 M1 Max 融合到一起，对于应用层来说它就是一颗完整的芯片。它拥有这些东西：

* 20 核中央处理器：16 个高性能核心 + 4 个高能效核心，用于CPU密集操作。

* 64 核图形处理器，用于图形密集任务。

* 32 个神经网络核心，用于机器学习。

* 10 个多媒体处理引擎，用于提升视频的编解码能力，对 H264/HEVC/ProRes/ProRes RAW 处理有硬件层面的加速。

![](https://cdn.zhangferry.com/Images/image-20220310224908485.png)

当然这么强大的芯片要有一个产品使用，它就是 Mac Studio。这是一条新的产品线，它看上去像是 Mac Mini 「加厚」版，但得益于其强大的性能，它的定位确是工作站。到目前为止 Mac 端的产品线基本都用上 M1 了，除了 Mac Pro。Mac Pro 之前的定位也是工作站，从「垃圾桶」进化到「行李箱」，它作为苹果性能的最强代表不断惊艳着我们，但随着 M1 的到来，这两款产品都不香了，更不用说「行李箱」起售价就 47999。虽然 M1 Ultra 已经让我们大呼苹果不讲武德了，但发布会结尾特意提了一下 Mac Pro，这很有理由相信作为性能天花板的 Mac Pro 的下一代才是真正的大杀器。

***
[@zhangferry](https://zhangferry.com)：苹果的多个产品线带来了一波更新。

### [macOS Monterey 12.3](https://developer.apple.com/documentation/macos-release-notes/macos-12_3-release-notes "macOS Monterey 12.3")

* Python 2 被从系统中移出了，但新系统中也并没有预装 Python 3，需要开发者手动安装。
* Universal Control（通用控制）：键盘、鼠标和触摸板可以在 Mac 和 iPad (iPadOS 15.4) 端无缝衔接。
* M1 芯片的电脑可以搭配支持空间音频的 AirPods 使用头部追踪功能。

### [iOS 15.4](https://developer.apple.com/documentation/ios-ipados-release-notes/ios-ipados-15_4-release-notes "iOS 15.4")

* 支持戴口罩的 FaceID 功能，仅支持 iPhone 12 及之后的机型。
* 新增了 37 个 Emoji 表情。

### [Xcode 13.3](https://developer.apple.com/documentation/Xcode-Release-Notes/xcode-13_3-release-notes "Xcode 13.3")

* 新增了一项针对 Swift 的编译优化

```
defaults write com.apple.dt.XCBuild EnableSwiftBuildSystemIntegration 1
```

* Instruments 获得了多项提升，提高了 leaks 、memory graph debugger 扫描的准确性等。

问题收集：

* 反馈打包时有 pod 相关异常
* 反馈编译变慢

### [Swift 5.6 Released](https://www.swift.org/blog/swift-5.6-released/ "Swift 5.6 Released")

* 类型系统的提升。[Type Placeholders SE-0315](https://github.com/apple/swift-evolution/blob/main/proposals/0315-placeholder-types.md "Type Placeholders SE-0315")
* 改进了指针交互的功能
* SPM 增加了运行新插件的能力

还有一个小优化：[SE-0290: Unavailability Condition](https://github.com/apple/swift-evolution/blob/main/proposals/0290-negative-availability.md "SE-0290: Unavailability Condition") 

***
[@zhangferry](https://zhangferry.com)：这期稍微聊一聊 [「node-ipc 包以反战为名进行供应链投毒」](https://www.zhihu.com/question/522144107/answer/2391166752 "如何看待 node-ipc 包以反战为名进行供应链投毒？")这件事。这件事的原委是这样的，[node-ipc](https://github.com/RIAEvangelist/node-ipc "node-ipc")  是 npm 下的一个组件（iOS 开发可以将其理解为 CocoaPods 下的一个组件），其作者为了表达反战宣言，在该组件库里注入了恶意脚本，往用户的桌面和 OneDrive 里写一个文件，用于表达自己的政治观点。供应链的含义是你发布的软件所依赖的三方库、系统库、开发工具等组成的依赖链，你的软件属于其中一环，它受以上所有环节的影响。而供应链投毒的含义是，只要依赖链里有它，就会中招，其中就包括使用很广泛的 vue-cli 。

当前国内 nmp 镜像已经将 node-ipc 列入黑名单，该作者推特也遭黑客攻击，个人信息被人肉。

这件事算是结束了，但也暴露出开源社区的脆弱，谴责该作者之时，「**我们需要建立一种开源世界的反分裂共识**」，开源社区的规则不应该被政治因素打破。

******
### [WWDC 22 Call to Code](https://www.apple.com/newsroom/2022/04/apples-worldwide-developers-conference-returns-in-its-all-online-format/ "WWDC 2022 Call to Code")

![](https://cdn.zhangferry.com/Images/20220411235752.png)

Apple 宣布了 WWDC 22 的相关事项，时间是 6 月 6 号到 10 号，形式还是线上播放。苹果一向喜欢玩彩蛋，我们可以尝试从这张图片里获取一些信息。图片主体是 Swift 图标，更准确的说应该是 SwiftUI 的图标，图标边缘透出的光亮有一种黎明到来，开启新篇章的感觉，所以很可能 SwiftUI 将迎来重大更新。就可联想的范围来说，什么样的更新才算重大呢，对标 Flutter，有没有可能支持全栈：Windows、Linux、Web 等平台？这个想法确实能配得上黎明到来，至于是否会实现，还是会有别的我们想不到的大更新，就让我们等待它的到来吧！

同时 Swift Student Challenge 将继续举办，学生们可以通过 Swift Playgrounds 创造有趣的项目。项目提交截止时间是 4 月 25 号，获奖者将获得 Apple 提供的一件 WWDC22 主题外套，一套定制的别针套装和一年的开发者会员资格。活动详情可以点击 [Swift Student Challenge ](https://developer.apple.com/wwdc22/swift-student-challenge/ "Swift Student Challenge")查看。

***
### [游戏版号时隔8个月恢复发放，45款游戏获版号！](https://www.nppa.gov.cn/nppa/contents/320/103799.shtml "游戏版号时隔8个月恢复发放，45款游戏获版号！")

[@iHTCboy](https://ihtcboy.com/)：4 月 11 号下午，很多游戏公司的老板在朋友圈透露，今晚发版号了！从 2021 年 7 月 22 日至今，8 个月后游戏版号迎来重启。对我们游戏行业者来说无疑是一个好消息，因为有版号就有新游戏可以上线，对于游戏市场也是一个好的信号，一个全新的开始。另外，4 月 15 号，国家两部门[联合通知](http://www.nrta.gov.cn/art/2022/4/15/art_113_60105.html "联合通知")：严禁网络视听平台传播违规游戏。未经主管部门批准的网络游戏，不得通过各类平台进行传播。

网络直播乱象、青少年沉迷游戏等问题，也一直是全民关心的问题，所以，游戏作为一个重要的内容创作平台，应该传递更多正能量，理性表达、合理消费，共同维护文明健康的网络视听生态环境。

***
### 互联网行业不景气，个人该如何发展

[@zhangferry](https://zhangferry.com)：本期话题来源于上周参加的亚东组织的一次分享会，分享者是做猎头的Firda，正常分享持续了3个小时且质量非常高，我简单总结下这次听讲的收获。

互联网行业多个大厂从股票暴跌到不断裁员，行业不景气为何有的人被迫转行？有的人却还能激流勇进？不同人的发展轨迹不同，其中很重要的一点就是他们做的选择不同，我们应该做的是：**做对的选择，正确努力**。

前半句是做选择，要做对的选择就需要拥有这些选择的足够信息，了解越多，越不容易犯错。我们需要做到以下几点，外部：

* 能分析外部环境市场&机会
* 能判断当下自己在公司内所处局势
* 能判断在什么时候可以看看机会

内部：

* 自知，较为清晰自己在市场中的能力水平

这里着重提一下内部因素这一点，找到市场中同工龄的人应具备哪些能力，应达到什么样的标准。这个可以通过跟领导的交流、招聘网站或者一些大牛的个人成长经历分享中获取。注意这些应该是相对优秀的人，然后以他们为标杆进行学习。我现在回想自己成长比较快的几个阶段，都是因为遇到了比自己优秀很多的同事，然后学习他们好的习惯。

另外一点是正确的努力，只努力不行，方向要正确。职场不同于学校，它要求的不是单一能力，而是综合能力。如何学习新知识、如何更好的协作、如何复盘、如果应对复杂的业务需求、如何构建自己的高效工作流、如何带团队、如何向上管理等等，在努力自我更新的同时也要注意这个更大的环境所发生的变化，结合自己的需求去往不同方向延展。以上每个点都有很大往里探索的空间，职场成长也应是个人成长，在努力做好工作的同时我们也在努力塑造一个更强大的自己。

回过头来，互联网不景气了，个人该如何发展呢？大环境基本无法控制，只能是从自身出发，自己如果做到无可替代，那就无惧外接环境变化。找准定位，正确的努力。

***
### 远程办公正在成为趋势

随着疫情的影响，远程工作的趋势正在以更快的速度发展和普及。携程、爱彼迎、GitLab 等都先后出台政策鼓励员工远程办公，可以预见不久之后还会有更多公司支持常态化的远程办公。远程工作是一个很早就有的概念，它也天然适合互联网行业，那为什么却发展这么慢呢，可以简要对比下传统办公模式和远程办公各自的优缺点。

**传统办公模式**

优点是同事之间沟通便利、工作状态更沉浸、公司整体也更有凝聚力；如果公司福利好的话，像管饭、健身等都在增加其优势。

传统办公最大缺点就是通勤了，特别是离家远的话，每天两遍的通勤简直磨炼人的。因为必须到岗，个人的自由度，作息习惯也相应的受公司制度影响。

**远程办公**

最大的优点是赋予了个人很大的自由性。不仅省去了通勤，还能更顾家，像接送小孩等，也能很方便的排开时间去处理。自由度是否意味着幸福感可能还要因人而异，但这种模式确实把选择权交到了个人手里。同时其对公司也有很大好处，会节省很多管理成本。

缺点的话，从我的观察是远程办公会导致大家最多抱怨的是不知道吃什么😄。

还有一方面是它对效率的影响。这段时间北京疫情一直不稳定，我断断续续已经居家办公有一个月时间了。实际感受来看，在家办公的效率平均下来可能是在公司的 80% - 90%。这效率损失主要在两个地方，一是在家被琐事打扰的概率要比公司更高，二是投入度的影响，公司的环境所带来的沉浸感（大屏显示器）在家较难实现（也会因人而异）。

也是因为这些影响，不是所有人都习惯远程办公的，但这是由于强制远程带来的问题，那如果是否远程交到员工自己手里呢？可以再结合采取了远程办公的公司采取的制度来看这个事情。

| 公司   | 远程制度                                                    |
| ------ | ----------------------------------------------------------- |
| 携程   | 「3 + 2」模式，每周三、周五在家远程办公，其余三天去公司上班 |
| 爱彼迎 | 永久灵活选择，可在家、在办公室，无论地点在哪，薪酬不变      |

携程代表混合模式，爱彼迎代表纯自由模式。爱彼迎比较彻底，永久灵活，但注意是灵活，个人还是有权力回归办公室的。携程的混合模式更像是纯远程和传统的中间态，既提供了一定的自由度，也有约束条件定期回归公司以维系归属感。携程这个是更偏探索的一种状态，感觉是一个值得推广的好案例，他们的调研发现远程之后整体工作效率不降反升。

如果一种模式即没有损失工作效果，又给与了员工一定的自由，那就是应该推行，希望远程办公的趋势能来的更快一些吧。

***
### [Apple 在辅助功能上的又一创新](https://www.apple.com/newsroom/2022/05/apple-previews-innovative-accessibility-features/ "Apple 在辅助功能上的又一创新")

![](https://cdn.zhangferry.com/Images/20220519094126.png)

[@zhangferry](zhangferry.com)：作为一款受众非常广的产品，针对特殊人群的辅助功能就显得尤为重要，不得不说 Apple 对辅助功能的重视程度和探索精神都是值得尊敬的。最近 Apple 又公布了一些基于软硬件和机器学习带来的辅助功能提升。

针对盲人和视力障碍的人群：Apple 基于配有 LiDAR 的设备可以探测到前方是否有门，门距离自己有多远，甚至要通过推还是拉的方式开门都能识别出来。

针对行动不便的人群：有一项 iPhone 结合 Apple Watch 的功能，借助于 Apple Watch 的 Mirroring 功能，可以用手机远程操作 Apple Watch。同时 Apple Watch 也有提升，通过 AssistiveTouch 技术，可以让 Apple Watch 识别特定手势，像是手指两次捏合的手势可以用于接电话、拍照、暂停音乐等。

针对听力障碍的人群：在 iPhone、iPad、Mac 配备了实时字幕功能，不只是针对 Facetime，对于任意音频内容，包括外部 App 都可以使用。样式是在设备顶部展示一个文本转义框，字体大小还可调整。

同时 VoiceOver 也进一步完善，增加了 20 多个地区语言的支持。

### [IAP 自动续订提价通知更新](https://developer.apple.com/news/?id=tpgp89cl "IAP 自动续订提价通知更新")

[@zhangferry](zhangferry.com)：自动续订是 Apple Store 付费产品使用最广泛的一个订阅选项。当一个已经被用户续订的产品进行提价时，Apple 会通过邮件、推送和 App 内消息的形式告知用户，如果用户未选择接受变更价格，下个续订周期就会默认中断。这可能会导致部分用户的不理解，影响其体验。该项改进意在增加一些条件，使得提价之后的续订周期可以默认延续。这个条件是：每年提价不超过一次，同时订阅价格上调不超过 5 美元和 50%，或者年度订阅价格上调不超过 50 美元和 50%，并且是在法律允许的范围内。该举措仍会通知到用户价格的变更。

***
### [WWDC22 码上就位](https://developer.apple.com/wwdc22/ "WWDC22 码上就位")

![](https://cdn.zhangferry.com/Images/20220526003950.png)

[@zhangferry](zhangferry.com)：WWDC22 已经快到了，Apple 放出了一些开发者大会的活动安排，我们可以根据这些安排了解 WWDC 的整个过程。

#### Apple Keynote and Platforms State of the Union

北京时间：6 月 7 号凌晨 1 点和 凌晨 4 点。

这是 WWDC 的开场，介绍 Apple 各平台的新版创新，有时也会公布一些硬件产品。

#### Sessions

北京时间：6 月 8 号至 11 号

这是 WWDC 的核心环节，由 Apple 开发工程师介绍 Apple 全平台最近做的一些升级、创新或者最佳实践。这 4 天时间里会有 100+ Session 放出。

#### Labs

需要申请，条件是：需要具备开发者会员身份或者是 Swift Student Challenge 的获奖者。

申请开始时间：6月 6 号（美国时区）

是一个跟 Apple 内部员工一对一交流的活动，可以问设计或者开发相关的各种问题，包括一些类似优化、调试等。

#### Digital Lounges

需要注册，条件是：需要具备开发者会员身份或者是 Swift Student Challenge 的获奖者。

注册开始时间：5 月 31号（美国时区）

WWDC 在线休息室也是一个跟 Apple 内部员工交流的活动，相比于 Labs 它对应场景更广泛，会分一些主题开展，像是 WWDC21 就有 SwiftUI、Accessibilty、DevTools 主题。这有一个[网站](https://roblack.github.io/WWDC21Lounges/ "WWDC21 Digital Lounges")还记录了 WWDC21 Digital Lounges 的问答内容。

#### Apple Design Awards

北京时间：6 月 7 号早上 8 点

苹果设计奖表彰那些在包容性、愉悦和乐趣、互动、社会影响、视觉和图形以及创新等方面表现突出的应用程序和游戏。

#### Forums

需要注册：条件是要有 Apple ID

北京时间：6 月 7 号

Forums 是一个更广泛的 Apple 跟开发者之间交流的形式，你可以在这里询问跟 WWDC 22 相关的任何问题。记得把问题标签标记为 WWDC22 或者对应 Session 的主题。

***
### WWDC 进行时

[@zhangferry](zhangferry.com)：WWDC 进行时持续 5 天的 WWDC22 已经快到尾声了，作为科技圈最负盛名的开发者大会，它不仅吸引到众多 Apple 生态的开发者，还有大半个科技圈在跟进报道，Apple 的影响力可见一斑。WWDC 的意义对于 Apple 来说不只是发布新产品、新功能，它还体现了 Apple 想与开发者之间打造的一种紧密联系。

 为了加强这种联系 ，苹果在 Apple Park 对面建了全新的 Developer Center，以便于开发者和Apple工程师之间交流沟通；为了让 Apple 对开发者的支持范围更广，从去年秋天开始，还推出了各种线上 Tech Talks，除了宣讲各种最新技术，开发者还可以和 Apple 工程师直接交流；Apple 还在全球建立了 17 所 Academy，用于教授相关的开发技术。基于苹果的各种支持和完善的生态，目前全球已有3400 万相关开发者。这众多开发者跟 Apple 的关系又是互相成就的，可以看出 Apple 把生态这个事真是玩的明明白白。 

如果去考究 WWDC 的历史，结果可能会更令人惊讶，首届大会竟然早在 1983 年就举办了。1983 年是什么概念呢，那个时候微软才发布了第一个桌面操作系统 Microsoft Windows，这也是 Windows 这个名字第一次出现的时间。同年晚于 Winddows 三个月苹果发布了第一款搭载图形用户界面的个人电脑 Apple Lisa。乔布斯当年还对此耿耿于怀，图形化界面是苹果的首创却被 Windows 抢先发布。电影[史蒂夫·乔布斯 Steve Jobs](https://movie.douban.com/subject/25850443/ "史蒂夫·乔布斯 Steve Jobs") 就是以这场发布会为开头展开的。

WWDC 发展至今，举办地、演讲者、产品内容、形式都多次变化，但 Apple 还是当年的 Apple，它依然是那个被模仿的存在。这些年间诞生过了很多经典时刻，我找到了一份网友整理的从 2006 年到 2021 年的[Apple 苹果发布会合集](https://www.bilibili.com/video/BV1m4411q75C "Apple 苹果发布会合集")，如果想考考古可以前往观看。 

说到形式的变化 WWDC 因为疫情的原因演讲形式从幻灯片变成视频，感觉这更凸显了 Apple 的设计能力。视频内容相比幻灯片有更大的发挥空间，镜头间流畅的转场切换，贴近视频主题的录制场景，一些三维效果的渲染，以及精良的音效，都让整个视频内容更具趣味性和观赏性。Apple 这几年的片头动画也成了很多设计师争相效仿的对象。

WWDC 被称为 Apple 开发者的「春晚」真的很贴切，WWDC 进行时，大家好好体验剩下的发布会内容吧。

***
### 周报改版

[@zhangferry](zhangferry.com)：周报停了一期，主要是为了这期改版，算是一个小变动吧。之前周报篇幅稍微有些大，对整理编辑的人员和读者来说完整看下来都会有一些压力。鉴于此周报部分内容进行了合并，另外增加了一个摸鱼模块，分享一些最近看到的有趣的内容。大家如果对内容改进上有其他什么建议，也欢迎给我们留言提意见。

###  Developer 设计开发加速器｜WWDC22 讲座集锦 

@师大小海腾：本期活动精选了 WWDC22 公布的最新技术，邀请 Apple 设计和技术布道师为中国开发者带来中文讲座集锦。通过本次活动您可以了解最新技术趋势、学习平台的最新功能，从而打造更为卓越的 App 体验。

**活动日期**：2022 年 6 月 28 日至 29 日

**报名截止日期**：2022 年 6 月 27 日

**议程：**

| 6 月 28 日 上午             |
| --------------------------- |
| 锁屏小组件及复杂功能        |
| 探索 App Intents            |
| 在您的 App 内支持 Live Text |

| 6 月 28 日 下午                                |
| ---------------------------------------------- |
| 探索 Swift 更新                                |
| 探索 SwiftUI 更新                              |
| 探索设计新特性: iPad App, Charts 及 SF Symbols |
| 探索 Metal 3                                   |
| 探索 Xcode 14 更新                             |

| 6 月 29 日 上午                                       |
| ----------------------------------------------------- |
| 探索 AR 技术更新: RoomPlan, Object Capture 及 ARKit 6 |
| 探索隐私技术的更新                                    |

**报名地址**：https://developer.apple.com/cn/accelerator/

您也可以通过扫描以下二维码报名：

![](https://cdn.zhangferry.com/Images/WechatIMG12.jpeg)

### Apple 邀请全球家庭参加 Apple 夏令营课程，同享创造与学习体验

[@远恒之义](https://github.com/eternaljust)：从 6 月 20 日到 8 月 31 日，Apple 每周都会举办课程。Apple 夏令营已进入第 20 个年头，此次将以全新的两小时家庭课程形式回归，帮助参与者创作以保护与歌颂地球为主题的数字漫画书。

**家长与监护人报名地址**：https://www.apple.com.cn/today/collection/apple-camp/

***
### [在您的 App 中提供帐户删除选项](https://developer.apple.com/cn/support/offering-account-deletion-in-your-app "在您的 App 中提供帐户删除选项")

[@远恒之义](https://github.com/eternaljust)：苹果要求，自 2022 年 6 月 30 日起，如果您的 App 支持帐户创建，提交到 App Store 审核，必须支持用户在 App 中发起帐户删除，以避免审核延迟。

⚠️ 注意事项：
* 支持“通过 Apple 登录”的 App 应使用 Sign in with Apple REST API 来[撤销用户令牌](https://www.yuque.com/eternaljust/rpmt31/bxmc3d#khpAl "撤销用户令牌")。
* 如果 App 帐户删除流程是手动的（如在应用内申请删除账号，需要管理员后台审核），请告知用户删除帐户需要多长时间，并在删除完成时提供一条确认信息。
* 如何避免拥有自动续期订阅的用户在删除帐户后意外被 Apple 继续扣款？可提供[链接](https://apps.apple.com/account/subscriptions "打开用户管理订阅链接")来让用户管理取消自己的订阅。

***
### DevOps 再理解

CI/CD 和 DevOps 有什么区别？如果你不能准确回答的话，可以读一下这篇介绍，对 DevOps 再次加深理解。内容主要参考自[《软件研发效能提升之美》](https://book.douban.com/subject/35631505/ "软件研发效能提升之美")。

DevOps 是 Development和 Operations 的组合，即开发和运维，再加上保证质量的测试，就构成了完整的 DevOps。通常 DevOps 会用下图表示：

![](https://cdn.zhangferry.com/Images/20220705233157.png)

DevOps 要解决的问题主要有两个：

1、开发流程中原本的三方是各自独立且顺序依赖的。这样效率会很低，DevOps 将开发流程中原本独立的三方进行聚合，这也是为什么它的结构是一个重叠的环形结构。

2、传统的开发模式更新迭代比较慢。DevOps 接收敏捷开发中快速迭代思想，将各个开发环节都设计成自动化、可持续的流程。

DevOps 不是具体的开发工具，而是一种软件研发管理模式和思想，是一种文化实践，所有在保证质量的前提下提升效能的方法都属于 DevOps 的范畴。围绕这个理念催生出了很多开发工具和技术实践。

根据业界主流观点，DevOps 的生命周期可以化为这 7 个阶段：持续开发、持续集成、持续测试、持续监控、持续反馈、持续部署和持续运营。持续开发对应于编码工作，这个阶段需要用到代码仓库、版本控制工具、包管理工具等。持续集成是频繁的提交代码、编译代码、执行单测等，尽可能早的发现问题。持续测试是保证代码的每次提交都能够被及时验证。持续部署是指频繁的把构建出的产品发布到测试环境、生产环境的流程，以尽早接收检验。CI/CD 对应的是持续集成和持续部署，它是 DevOps 生命周期里最重要也是最基本的两个阶段，也可以说它们是 DevOps 概念的实践方式。

DevOps 的 7 个阶段都用到了「持续」一词，为了实现持续，需要串联开发中的各项任务，由此引出了流水线的概念。流水线是讲究顺序的，任何一个节点出错都会导致任务的失败，这可以加快了周转速度，也利于尽早暴露问题。像是 Jenkins、GitLab、Github 都会 CI/CD 提供了便捷的流水线配置方案。

DevOps 还常会跟容器技术同时出现，无容积化流程通常是这样的：

![](https://cdn.zhangferry.com/Images/20220706231712.png)

任务量小时这样没问题，但当面对大规模的提交时多场景的提交时，机器的执行效率就显得尤为重要。除了增加机器外，还可以利用容积化技术最大化机器的利用效率。Kubernetes 是用于优化容积化流程的技术方案，它可以提供容积化负载均衡、弹性伸缩等服务。

![](https://cdn.zhangferry.com/Images/20220706231848.png)

DevOps 理念的发展又推动了其他开发环节的进化，并演化出了这些开发实践。

* DevSecOps：Sec 表示 Secure，就是将安全防护与 DevOps 结合起来。需要监控 DevOps 各个阶段的安全问题，通常会通过扫描代码、交互式安全扫描、模拟攻击等方式来保证安全性。
* DevPerfOps：Perf 表示 Performance，就是将性能保障与 DevOps 结合起来。它需要监控各个阶段的性能指标，开发阶段的技术方案有：代码静态性能问题、算法时间复杂度、接口级并发测试、性能基线比较等。持续集成阶段有模块级扩缩容测试、压力测试等。持续发布有系统级别的性能基准测试、故障迁移测试、全链路压力测试等。
* BizDevOps：Biz 表示 Business，就是将业务与 DevOps 结合起来。BizDevOps 的概念是将不写代码的业务团队，像是产品和运行也参与进来。它要解决的问题源于[三个不等式](https://developer.aliyun.com/article/839569 "深度 | 从DevOps到BizDevOps, 研发效能提升的系统方法")：局部效率不等于高效交付，高效交付不等于持续高效，高效交付不等于业务成功。为了起到真正助力业务的目标，需要落地产品导向的交付，建设标准化基础设施，不断积累技术资产，同时还需要与业务之间建立快速的反馈闭环。
* AIOps：AI 表示 Artificial Intelligence，就是在原有 DevOps 的各个阶段都融入 AI 能力。通过不断的数据采集和分析，根据算法自动的下发或变更执行规则。更进一步，通过自动化测试，不断的分析测试结果，还可以用于异常检测、瓶颈分析、故障预测甚至于故障自愈。

### [Apple 计划推出 Lockdown 模式，保护用户免遭间谍软件侵害](https://www.apple.com.cn/newsroom/2022/07/apple-expands-commitment-to-protect-users-from-mercenary-spyware/ "Apple 计划推出 Lockdown 模式，保护用户免遭间谍软件侵害")

Apple 宣布将发布突破性的安全功能，为可能成为高度针对性网络攻击目标的用户提供特别的额外保护。这些网络攻击来自唯利是图、受国家支持开发间谍软件的私人企业。在 iOS 16、iPadOS 16 和 macOS Ventura 中开启 Lockdown 模式将进一步加强设备防护，严格限制部分功能，大幅减少受攻击面，以免给具高度针对性的间谍软件可乘之机。

******
###  Developer 设计开发加速器｜探索 Create ML Components

[@远恒之义](https://github.com/eternaljust)：本次活动将探索全新的 Create ML Components 框架，来配置更细颗粒度的机器学习任务。了解如何通过 Create ML Components 在图片类、列表类、视频类等任务上创建自定义模型，更好地配合您的使用场景。

活动将于 2022 年 8 月 2 日 (周二) 举办，完全免费，但仅限受邀开发人员参加。您可在您的开发团队中额外邀请最多 5 位成员参加，详情查看[设计开发加速器活动注册指南](https://essentials.applesurveys.com/WRQualtricsControlPanel_rel/File.php?F=F_a4rFfRXziNGhoAm "设计开发加速器活动注册指南")。活动注册截止日期为 2022 年 8 月 1 日，**报名地址**：https://developer.apple.com/events/view/upcoming-events。

### [即将从 XML Feed 过渡到 App Store Connect API](https://developer.apple.com/cn/news/?id=yqf4kgwb "即将从 XML Feed 过渡到 App Store Connect API")

[@师大小海腾](https://juejin.cn/user/782508012091645/posts)：App Store Connect REST API 让您可以跨各种开发者工具自定义任务并实现任务自动化，使工作流程更灵活、更高效。从 2022 年 11 月开始，您将需要使用此 API 来代替 XML Feed，从而实现对 App 内购买项目、订阅、元数据和 App 定价的自动化管理。XML Feed 将继续为现有的 Game Center 管理功能提供支持。

### [Apple 介绍如何通过健康信息为用户赋能](https://www.apple.com.cn/newsroom/2022/07/how-apple-is-empowering-people-with-their-health-information/ "Apple 介绍如何通过健康信息为用户赋能")

[@师大小海腾](https://juejin.cn/user/782508012091645/posts)：Apple 于 7 月 20 日公布了一份新报告，简要介绍 Apple 产品帮助用户掌控自身健康，担当用户健康与安全智能守护者的多种方式。全球各地的用户、开发者、医疗机构与保健组织正在使用 Apple 设备、功能与 API 帮助人们消除获取自身健康信息的障碍，同时严格保障个人隐私。

******
### [Apple Entrepreneur Camp 已开放申请，欢迎女性、黑人和西班牙裔/拉丁裔创业者参加](https://developer.apple.com/cn/news/?id=g2414inv "Apple Entrepreneur Camp 已开放申请，欢迎女性、黑人和西班牙裔/拉丁裔创业者参加")

[@远恒之义](https://github.com/eternaljust)：Apple Entrepreneur Camp（苹果企业家培训营）创建目的是为 App 驱动型组织中的少数群体创业者及开发者提供支持，助力其研发新一代的前沿 App 并开拓全球网络，鼓励这些创业者在技术领域不断探索并取得持续发展。

Apple Entrepreneur Camp 的核心是一个密集的技术实验室，获得申请的组织可免费获得以下服务：
* Apple 工程师提供的一对一代码级指导。
* Apple 开发人员代表的持续支持至少一年。
* 一年的 Apple Developer Program 会员资格。
* 访问 Apple Entrepreneur Camp 校友网络，一个由鼓舞人心且雄心勃勃的领导者组成的世界级团体。

世界各地的开发人员都接受申请，你的组织最多可以有三名成员参加。不过必须具备以下资格才能申请成功：
* 你的组织必须具备：
  * 一位女性的创始人、联合创始人或首席执行官。
  * 一位熟练使用 Swift 或 Objective-C 的女性开发者。
  * 以及 App Store 上的现有应用程序或 TestFlight 中的功能性 beta 版本，或者同等的产品。
* 女性创始人、联合创始人或首席执行官；女性开发者；以及另一位年满 18 岁且熟练英语的同事，能够在整个实验室期间一起参加。

三组面向女性、黑人以及西班牙裔及拉丁裔创业者的在线课程将在 2022 年 10 月开展，国内符合条件的创业者可以选择女性这一组提交申请。申请截止日期为 2022 年 8 月 24 日。

谜底科技是一家杭州小而精的开发团队，创始人为柳毅和梁逸伦夫妇，他们开发了许多优秀的应用产品，其中包括广受好评的 OffScreen。谜底科技的梁逸伦是首批参加 Apple 企业家培训营的中国开发者代表之一。

![谜底科技柳毅和梁逸伦夫妇](https://cdn.zhangferry.com/Images/midi-couple.jpg)

***
### 今年 8 月，把握与 App Store 专家会面交流的机会

[@师大小海腾](https://juejin.cn/user/782508012091645/posts)：想让你的产品页更加出色？对 TestFlight 或实施订阅有疑问？与 App Store 专家交流探讨，了解如何充分利用这些功能。探索如何吸引新顾客、测试营销策略、添加订阅等等。在整个 8 月，Apple 将在多个时区以多种语言进行实时演讲和答疑。如果你是 Apple Developer Program 的成员，现在即可注册申请。

![](https://cdn.zhangferry.com/Images/20220811001526.png)

![](https://cdn.zhangferry.com/Images/20220811001546.png)

***
整理编辑：[zhangferry](zhangferry.com)

### App Accelerator

近期有两场 Apple 加速器分享：

* 设计卓越的桌面级 iPad App，8 月 22 号。iPadOS 16 有一项重要更新就是对桌面级应用的支持，这样改动会为 iPad 生态带来哪些改变还不确定。如果对这方面内容感兴趣可以报名这场分享，该次分享会通过 Apple 在搜索、导航栏、编辑菜单、多选等功能当中的一系列改进，来介绍如何在 iPad 上设计出桌面级的 App。
* 了解和消除 App 的卡顿，8 月 25 号。本次分享会讲解通过 Xcode 14 提供的新能力发现卡顿及其相关原因的工具和方法，以及 App 卡顿的一些反面典型，学习避免这些卡顿的最佳实践。


### 什么是精准测试

在讲精准测试之前先来了解下传统的测试流程，传统测试流程会有黑盒测试、白盒测试，白盒测试会更精准一些，因为它是基于已知逻辑编写的测试用例。但白盒测试有个问题是它没有代码概念，每次回归都需要跑全量用例，随着项目越来越大，测试用例可能会多达上万条。要知道每个版本的修改相对代码总量来说都是比较小的，如果每次都跑全量用例显然是一种浪费，那有没有办法再精准一些，涉及改动的部分才跑对应的用例？有的，这就是精准测试要解决的问题。

精准测试的核心技术就是把用例和代码关联起来，关联的方式是插桩，给每一个执行语句（Basic Block，BB 是一种更细粒度的代码块，它能表示每一个条件语句的分支）插上桩，当该语句被执行时创建一个标记记录其执行次数。一个用例执行完的时候，导出插桩内容并解析，我们就可以记录该用例执行的「代码覆盖率」。覆盖率数据可以用来测量当前用例测试的充分程度，但随着工程的演进「增量代码覆盖率」更具意义，我们可以利用这个增量指标衡量 MR/版本维度的测试程度。

再回到精准测试，当我们拿到覆盖率数据时其实也就拿到了代码与用于之间的映射关系，把这部分数据落入数据库中，根据 MR/版本变更产生的代码 Diff 就可以推测出关联用例了，而这部分用例就是我们需要的「精准的测试用例」。理论不复杂，但是实施起来却不容易，精准测试对应的是一整个体系，这里再推荐两篇精准测试相关的文章：[深入理解 Swift 代码覆盖率](https://juejin.cn/post/6996596951969955853 "深入理解 Swift 代码覆盖率")，[走出回归测试困境，爱奇艺精准测试体系建设](https://xie.infoq.cn/article/781b1a4fa4aca12e38caf86aa "走出回归测试困境，爱奇艺精准测试体系建设")。


***
### [Shazam 迎来问世 20 周年](https://www.apple.com.cn/newsroom/2022/08/shazam-turns-20/ "Shazam 迎来问世 20 周年")

[@远恒之义](https://github.com/eternaljust)：Shazam 是一款歌曲识别 App，适用于所有的 Apple 设备上。你可以使用 Shazam 快速查找几乎任何歌曲，识别 App 中播放或者通过耳机播放的音乐，也能通过快捷指令和控制中心使用 Shazam 识别歌曲，同时可以在 Apple Music 中打开已识别的歌曲，更多实用技巧可查看 [Shazam 使用手册](https://support.apple.com/zh-cn/guide/shazam-iphone/welcome/ios "Shazam 使用手册")。

![控制中心使用 Shazam 识别歌曲](https://cdn.zhangferry.com/Images/shazam-music.png)

2018 年 9 月 Shazam 加入了 Apple 家庭，在 WWDC21 中 Apple 推出了 [ShazamKit](https://developer.apple.com/cn/shazamkit/ "ShazamKit")。借助 ShazamKit，可以为你的 App 增加音频识别功能。将音乐与 Shazam 庞大乐库中的数百万首歌曲进行匹配，或者使用视频和播客等来源中的音频创建你自己的自定义乐库，帮助用户轻松识别任何预录制的音频。

以下是 Shazam 20 年来历史上的重要时刻与里程碑事件。

* 2002 年 8 月：Shazam 作为一项短信服务在英国推出。当时，用户需要在电话上拨打“2580”，然后将听筒对准音源。不久后，他们会收到一条短信，获悉歌曲名称与艺人姓名。
* 2008 年 7 月：Shazam app 在全新的 App Store 上发布。2008 年 10 月，Shazam 发布 Android 版本。
* 2015 年 4 月：Shazam app 在第一代 Apple Watch 上发布。
* 2018 年 9 月：Shazam 加入 Apple 家庭。
* 2021 年 6 月：Shazam 月度识别次数首次超过 10 亿次。
* 2022 年 5 月：Shazam app 总安装次数超过 20 亿次。
* 2022 年 8 月：Shazam 庆祝 20 年音乐发现之旅，且突破 700 亿次歌曲识别。

### [App 和 app 内购买项目即将实行税率和价格调整](https://developer.apple.com/cn/news/?id=l42tc8ie "App 和 app 内购买项目即将实行税率和价格调整")

[@远恒之义](https://github.com/eternaljust)：从本周开始，加纳和土耳其 App Store 的 App 及 App 内购买项目 (自动续期订阅除外) 的价格将有所提高。加纳的价格提升将包含 12.5% 的新增值税和 6% 的附加税。此外，如果你在 App Store Connect 中选择了适当的税收类别，爱沙尼亚的电子出版物的收益会进行调整，增值税从 9% 下调至 5%。

***
### [WWDC22 视频现已提供简体中文字幕](https://developer.apple.com/cn/news/?id=lw8dnr3l "WWDC22 视频现已提供简体中文字幕")

[@师大小海腾](https://juejin.cn/user/782508012091645/posts)：现在，主题演讲、Platforms State of the Union 以及今年 Apple 全球开发者大会的近 200 场主题演讲皆配有日语、韩语和简体中文字幕。相关视频可在开发者网站或 iPhone、iPad、Mac 和 Apple TV 中的 Apple Developer App 上观看。

![](https://cdn.zhangferry.com/Images/20220901232418.png)

### [Xcode Cloud 已支持订阅](https://developer.apple.com/cn/news/?id=5hlzzu3u " Xcode Cloud 已支持订阅")

[@师大小海腾](https://juejin.cn/user/782508012091645/posts)：Xcode Cloud 是一项内置于 Xcode 中的持续集成和交付服务，能有效地为高质量 App 的开发和交付提升速度。该功能为收费项目，从现在开始到 2023 年底之前注册开发者可以每月免费获取 25 个小时使用时长。如果需要更长时间使用，可以付费订阅这项功能，目前[订阅计划](https://developer.apple.com/xcode-cloud/get-started/ "开始使用 Xcode Cloud")是这样的：

![](https://cdn.zhangferry.com/Images/20220901224059.png)

***
整理编辑：[zhangferry](zhangferry.com)

### iPhone14 灵动岛创意

在发布会之前关于 iPhone 14 的爆料已经不少了，但看到灵动岛（Dynamic Island，翻译太赞了）的创意，还是让人眼前一亮。

![](https://cdn.zhangferry.com/Images/iphone_14_dynamic_island.GIF)

回想一下从 Home 键、3D Touch、全面屏的解锁手势、灵动岛，再包括 MacBook 的 Touch bar，Apple 对于交互的设计都是软硬件结合的。但灵动岛又不太一样，挖孔屏对于苹果来说不是首发，他是在一个本来就带槽点的能力上做的设计，把劣势变成优势这个能力是非常厉害的。

再说回这个设计，看过宣传视频，对于灵动岛具备的能力可能还会有些疑惑，这个控件能否由开发者控制呢？能控制到什么地步？原有通知的样式是否需要适配？因为这个功能可以配合 Live Activities 使用，应该是有一种配置是用于在灵动岛中展示的，但当我想看下这个文档，看能否找到一些相关的 API时，发现这个[文档链接](https://developer.apple.com/documentation/activitykit/displaying-live-data-on-the-lock-screen-with-live-activities "displaying-live-data-on-the-lock-screen-with-live-activities")被下掉了，整个 ActivityKit 文档也都没了，不知道这是要干啥。既然没法看文档就从网上爆出的视频简单推测下它的能力吧。

* 已知与两种能力对应：信息通知和后台停留内容展示。作为展示能力看的话，灵动岛很有 iPhone 第二屏的感觉。
* 作为后台停留展示时，需要申请后台能力，同时应该还会有一个停留的配置项。
* 与  Live Activities 能力结合时，可以作为一个更精简的通知面板。这块样式是否可以定制还不确定，有两种方案，一种是通过 ActivityKit 简单定制，一种像音乐控制器一样，设置特定元素由系统自动提取。
* 支持最多两个 App 的停留，会变成「叹号」样式。如果有更多后台 App 会如何替换，这个还不清楚。
* 点击切换至对应 App，长按展开为大屏，目前已知的大屏样式有长条状、圆角正方形状、延伸屏幕边缘的矮矩形和高矩形、还有一种介于圆角正方形和屏幕宽度之间的尺寸。
* 长按展开的样式会提供开发者定制能力，因为这块样式太多了。但能控制的内容不多，比如为了跟屏幕融为一体，背景会被限定为黑色。
* 灵动岛长短的变化会影响左右两侧时间和信号的展示，如果灵动岛展示为大尺寸，两边的元素会被挤压至屏幕外。
* 关于原有通知如何弹出的问题，因为灵动岛需要黑色背景才能体现连贯性，所以这块的交互不会默认迁移，那这样话会由一种新的通知样式用于适配灵动岛。

***
### [使用 iOS 16.1 Beta 版和 Xcode 14.1 Beta 版，开发实时活动功能](https://developer.apple.com/cn/news/?id=ttuz9vwq "使用 iOS 16.1 Beta 版和 Xcode 14.1 Beta 版，开发实时活动功能")

[@远恒之义](https://github.com/eternaljust)：从 iOS 16.1 Beta 版和 Xcode 14.1 Beta 版开始，我们可以在灵动岛和锁定屏幕上共享应用程序的实时更新作为实时活动。借助于新 ActivityKit 框架的实时更新功能，实时活动能帮助用户跟踪 App 内容状态的变化。

灵动岛作为 iPhone 14 Pro 系列最惊艳的设计，App 的实时活动会显示在锁定屏幕和灵动岛中，可以让用户非常直观、愉悦地体验到实时更新的内容。实时活动功能和 ActivityKit 将在今年晚些时候 iOS 16.1 正式版中上线。

推荐观看 [Dynamic Island API - iOS 16.1 Beta - Xcode 14.1](https://www.youtube.com/watch?v=gEWvV-TmjqE&t=25s "Dynamic Island API - iOS 16.1 Beta - Xcode 14.1 - SwiftUI Tutorials") 课程介绍，开始登陆灵动岛。

![Kavsoft SwiftUI Tutorials](https://cdn.zhangferry.com/Images/dynamic-island-api.jpeg)

### [App 和 App 内购买项目即将实行价格和税率调整](https://developer.apple.com/cn/news/?id=e1b1hcmv "App 和 App 内购买项目即将实行价格和税率调整")

[@远恒之义](https://github.com/eternaljust)：最早于 2022 年 10 月 5 日起，智利、埃及、日本、马来西亚、巴基斯坦、波兰、韩国、瑞典、越南和所有使用欧元货币的地区的 App Store 上的 App 及 App 内购买项目 (自动续期订阅除外) 价格将有所提高。

***
### 苹果 iOS / iPadOS 16.1 公测版 Beta 3 发布，为老款 iPad 支持台前调度

[@师大小海腾](https://juejin.cn/user/782508012091645/posts)：苹果于 9 月 29 日向 iPhone 用户推送了 **iOS 16.1 公测版 Beta 3 更新（内部版本号：20B5056e）**，本次更新距离上次发布隔了 7 天。此外，iPadOS 16.1 也迎来新的公测版。

公测版的更新内容与昨日推送的开发者预览版基本一致，对于苹果 iPad 用户，苹果将台前调度功能扩展到了搭载 **A12X 或 A12Z 芯片**的 iPad Pro，不过功能上有缺失，无法支持外部显示器使用。该功能此前只能在 M1 芯片的 iPad 上使用。

![](https://cdn.zhangferry.com/Images/20220929212647.png)

在 iOS 16.1 的最新更新中，苹果在设置中加入了新的修改壁纸选项，并且移除了 Matter 配件，添加了新的开关选项，允许应用在下载后和用户首次启动之前自动开始下载其应用内内容。

![](https://cdn.zhangferry.com/Images/20220929212708.png)

![](https://cdn.zhangferry.com/Images/20220929212719.png)

另外，苹果将在 iOS 16.1 中为用户带来实时活动通知，用户将可以在锁屏、灵动岛上看到 App 的实时消息。

![](https://cdn.zhangferry.com/Images/20220929212740.png)

来源：[IT之家 - 苹果 iOS / iPadOS 16.1 公测版 Beta 3 发布，为老款 iPad 支持台前调度](https://m.ithome.com/html/643916.htm "IT之家 - 苹果 iOS / iPadOS 16.1 公测版 Beta 3 发布，为老款 iPad 支持台前调度")

***
### One More Thing?

[@zhangferry](zhangferry.com)：虽然还没有官宣，但是网上已经讨论很多了，Apple 10 月还会有一场发布会。YouTube 博主 GregsGadgets 录了一期视频爆料新产品：[Apple October Event LEAKS!](https://www.youtube.com/watch?v=euUGv_Fz71o&list=RDCMUCoi3Uk6JtP9QgA5BRwnh6NQ "Apple October Event LEAKS!")。

![](https://cdn.zhangferry.com/Images/20221011224436.png)

新产品会有这些：New iPads、New M2 iPad Pros、M2 Mac mini、M2 MacBook Pro（14/16寸），M2 版本的 Mac Pro 和 Apple TV 也可能会一起发布。

### [Apple 提供 Ask People 服务](https://developer.apple.com/cn/events/ask-apple/ "Ask People")

![](https://cdn.zhangferry.com/Images/20221012233542.png)

[@zhangferry](zhangferry.com)：Apple 提供了 Ask People 服务让开发者能够通过 Slack 与 Apple 专家进行交流。Ask People 可以理解为一个 QA 环节，可以问代码级别的支持、设计建议、系统库使用等内容，Apple 指定了一段时间用于问答，从 10月 17 号开始到 21 号结束，这个期间会按照不同专题进行问答，这些专题对应 Slack 不同频道。活动注册，需要为开发者计划会员，具体日程和话题安排可以参照这个[日程表](https://developer.apple.com/cn/events/ask-apple/questions-and-answers/ "Ask People 日程表")。

Tech Talks 和 Meet with Apple Store Experts 项目在过去一年提供了 200 多个现场演示时长达数千小时。Apple 从这些活动中看到开发者对 Apple 专家交流的诉求，于是有了 Ask People。所以有理由相信后面还会有更多的 Ask People。

### [Swift 和 SwiftUI 在系统层面使用情况](https://blog.timac.org/2022/1005-state-of-swift-and-swiftui-ios16/ "Swift 和 SwiftUI 在系统层面使用情况")

[@zhangferry](zhangferry.com)：作者通过分析系统库的所有二进制文件来统计 Swift 和 SwiftUI 在系统版本上的占比情况：

![](https://cdn.zhangferry.com/Images/20221011222541.png)

统计方式是把系统中的所有二进制文件数量作为总数（不包含 XNU 和固件代码），如果该二进制文件中包含以上统计信息（语言或框架）就加一，按照比例划分做出上图。从这张图中可以得出以下结论：

* Objective-C 仍然是 iOS 系统的核心语言。
* Swift 在系统库中的使用越来越高，相对成熟；SwiftUI 开始崭露头角但仍处于早期阶段。
* C 语言在慢慢退出。

***
### 1024 程序员节活动

[@远恒之义](https://github.com/eternaljust)：一年一度的 1024 程序员节日即将到来，作为程序员的我们又可以开心度过（摸鱼）这个专属节日。摸鱼周报的全体编辑在这提前祝大家节日快乐，代码无 bug！

过节少不了活动，我们收集了一些 1024 程序员主题活动，感兴趣的同学可以浏览参与一下

> * [致「独一无二」的你｜1024 程序员节系列活动启动](https://segmentfault.com/a/1190000042598682?_ea=270575484 "致「独一无二」的你｜1024 程序员节系列活动启动")，SegmentFault 思否社区独家周边等着大家
> * [掘金 1024 专场直播——抽象思维与程序员的职业生活](https://juejin.cn/live/jj1024?utm_source=webbanner "掘金 1024 专场直播——抽象思维与程序员的职业生活")，报名预约并转发直播有奖，分享嘉宾：Winter - 前手机淘宝前端负责人，直播时间：10 月 24 号 20:00
> * [语雀知识大会：构建你的数字花园](https://www.yuque.com/e/conference "语雀知识大会：构建你的数字花园")，预约直播（10 月 24 日 14:00），参与周边抽奖，奖品有语雀福袋：帆布包、笔记本、金属书签、冰箱贴、贴纸
> * [2022 科大讯飞全球 1024 开发者节](https://1024.iflytek.com/ "2022 科大讯飞全球 1024 开发者节")，活动包含了 A.I. 开发者大赛，不同的城市峰会主题，炫酷的科博会展，有爱的 AI 公益计划等内容
> * [2022 长沙 · 中国 1024 程序员节](https://1024.csdn.net/2022 "2022 长沙 · 中国 1024 程序员节")将于 10 月 23 - 25 日在长沙、北京等多地同步举行。本次程序员节以“算力新时代，开源创未来”为活动主题，由 5 大院士领衔，四城联动，开设十余场专业主题论坛，覆盖 AI、芯片、数据库、大数据、数字化转型、工业互联网等技术领域。线下活动会场免费报名，先到先得，你也可选择线上直播平台观看

### [App Store 现已开放 iOS 16.1 和 iPadOS 16.1 App 提交](https://developer.apple.com/cn/news/?id=z1erkhzr "App Store 现已开放 iOS 16.1 和 iPadOS 16.1 App 提交")

[@远恒之义](https://github.com/eternaljust)：锁定屏幕和灵动岛上的“实时活动”已正式在 iOS 16.1 和 iPadOS 16.1 发布。即日起，你可以使用 Xcode 14.1 RC 发布候选版本来构建 App 并提交审核。此外，自 2023 年 4 月起，所有提交至 App Store 的 iOS 和 iPadOS App 都必须使用 Xcode 14.1 和 iOS 16.1 SDK 来构建。iOS 16 系统更新了许多新 API 和功能，开发者们尽快下载最新的 Xcode 来对 App 进行优化适配吧。

***
### [Apple Search Ads 新增广告位](https://searchads.apple.com/advanced "Apple Search Ads 新增广告位")

[zhangferry](zhangferry.com)：Apple Search Ads 是 Apple 自己的广告投放产品，它主要用于 App Store 内的广告投放。原来广告位是在搜索结果页（不搜索时也会展示广告），最近又新增了两个广告入口（国区没有），一个是 Today 产品卡片的底部，一个是在产品详情页的底部。

![](https://cdn.zhangferry.com/Images/20221027230936.png)

关于 Apple 对广告位的扩展，遭到不少人的反对，主要集中在这几点：

* Apple 在注重隐私的背景下逐步限制 Facebook 和 Google 等的广告追踪能力，而自己却在一步步扩大广告的范围。限制广告追踪难道不是在为自己的广告业务铺路？
* 广告最重要的是精准推荐，Apple Search Ads 如果说推荐精准那是不是就意味着它在分析用户行为。
* 按照这个趋势，Apple 很有可能还会在 App Store 或者其他系统级应用层面添加广告位。

### macOS Ventura 体验

![](https://cdn.zhangferry.com/Images/20221030212611.png)

[@zhangferry](zhangferry.com)：macOS Ventrua 已经发布了正式版，安全起见只对家里电脑进行了升级。听说有些人升级之后不少软件没有适配，直接用不了了，所以升级之前对于强依赖的软件可以上网查一下是否能够正常运行再决定是否升级。新系统体验一段时间之后，有这些功能值得说一下：

* 设置界面大改，跟 iPhone 风格保持一致：用意应该是想统一 macOS 与 iOS 的交互，对于初次从 iPhone 切换到 macOS 的用户比较友好。但对于习惯了老版 macOS 设置界面的人来说，有点难受，很多内容都需要重新适应。
* Stage Manager（台前调度）：它是一个独立功能，如果打开，当桌面出现超过 1 个窗口时就会自动触发，将多余窗口折叠到屏幕一侧变成缩略窗口，一块显示器中缩略窗口最多有 5 组，双显示器就是 10 组，基本满足大多数情况了。一屏如果超过 5 组，较早折叠的会被覆盖，手动将缩略窗口拖出，还可以让一屏同时展示多个窗口。如果想查看桌面的文件，可以点击屏幕空白切换，再次点击切换为窗口模式。习惯了之后感觉还是挺实用的一项功能。
* Spotlight 加强：可以搜索更详细的内容，这项提升是跟 iOS 一起的，结合图片中的文字识别，搜索结果会更加丰富。我测试发现还能搜索 iCloud 里的内容
* Metal 3：Metal 3 的意义不仅是在 Mac 端能够直接开发出特效更加复杂的游戏，它凭借很多渲染层面的补足及加强，能够让很多 DirectX 的游戏可以相对完整的转换到 Metal 3 上，但就这个层面来说，Mac 端可玩的游戏就会有很大补充。[《生化危机 村庄》](https://www.residentevil.com/village/en-asia/mac/ "《生化危机 村庄》")也已经登录 Mac App Store，售价 39.99 美元，国区没有上线。根据网上的测评这款游戏在 Mac 上的表现还不错，期待未来有更多游戏大作登录 Mac。

***
### 抖音 iOS 基础技术大揭秘 Vol.02

[@zhanferry](zhanferry.com)：抖音 iOS 基础技术在年初的时候办过一次技术分享，分享主题为：

* 大型 App 开发架构演进及挑战
* 抖音 iOS 自动化服务：容器化和规模化探索
* 超级 App 构建效能提升 40%！JOJO，字节自研 iOS 构建系统
* 抖音 iOS 体验优化：流程性优化探索
* 抖音 iOS 稳定性优化与探索

这期内容介绍及回放视频可以在这里获取：[超全回顾 | 5位抖音工程师揭秘抖音iOS基础技术（附PPT和回放视频）](https://mp.weixin.qq.com/s/dFkGjCgZeXbYxsu3F40L-Q)。

本次分享是第二期，时间是 11 月 12 日下午 2 点，也就是本周六下午两点。分享主题为：

* 抖音 iOS 从静态分析到准入体系：进击的「钟馗」
* 抖音 iOS 视频播放品质优化实践
* 抖音 iOS 首页 Feed 重构探索与实践
* 抖音 iOS 自动化服务：工具链演进与优化实践
* 机器学习技术在抖音 iOS 的探索与实践

![](https://cdn.zhangferry.com/Images/20221110232112.png)



### [11 月 14 日，参与新一周的 Ask Apple 活动](https://developer.apple.com/cn/news/?id=oif6dumm "11 月 14 日，参与新一周的 Ask Apple 活动")

![](https://cdn.zhangferry.com/Images/weekly74_topic.jpeg)

[@师大小海腾](https://juejin.cn/user/782508012091645/posts)：欢迎继续参与新一周激动人心的 Ask Apple 开发者系列活动，与 Apple 专家直接交流沟通。针对如何将最新技术集成到您的 App 中、设计直观的 UI，以及测试最新软件等主题大胆提问。

活动将于 11 月 14 日至 18 日举行，届时将提供多种语言和多个时区的在线一对一咨询和小组 Q&A。现已面向 Apple Developer Program 和 Apple Developer Enterprise Program 的当前成员开放注册。

Ask Apple 开发者系列活动终场周将在 12 月推出，敬请关注详情。

***
### 远程工作推行之难

[@zhangferry](zhangferry.com)：最近关注到 [Remote In Tech](https://remoteintech.company/ "Remote In Tech")，一个收集远程工作和半远程工作的网站。远程工作我们都理解，就是不用去公司，在家办公，半远程就是一周中，有几天在家办公，剩余几天去公司。在今年的 2 月份，携程宣布推行 “3+2” 混合办公制度，就是属于半远程工作制，3 天去公司，2 天在家办公。当时网上铺天盖地的报道，大家都在讨论这应该会给国内公司带来远程办公的趋势。大半年过去了，想了解下携程 “ 3+2” 的后续，但翻了好几页消息，只找到 36Kr 上的一篇后续报道：

> 在携程内部，不少中层管理者并不认同“3+2”混合办公政策。有的部门和团队会明确表示不建议或不可以回家远程，有的要求居家要有更多产出，或者早晚频繁开会、打卡、写日报，**目的是让大家放弃申请**。
>
> -- 来源：[监控员工好累啊……来看看远程管理如何解放双手](https://36kr.com/p/1891835331989509 "监控员工好累啊……来看看远程管理如何解放双手")

标杆都没有做好的话，那离普遍被接受还有相当长一段路要走。再看国内另一个专注于远程工作的网站 [电鸭](https://eleduck.com/ "电鸭")，排靠前的消息，基本都来自国外公司，或国内做 Web3、区块链等境外项目。也侧面印证了，远程办公在国内还处于非常初期的阶段。

远程办公既考验公司的管理能力，又对员工本身素质提出了很高的要求。这其中还有信任、沟通、绩效评定等问题，都需要有一个合适的解决方案。但另一方面，可以预见远程办公肯定会是一个趋势，只不过趋势的到来需要多长时间，未知。

### [iPhone 14 / Pro 系列卫星 SOS 紧急求救服务已在美国和加拿大正式推出](https://www.ithome.com/0/654/091.htm "iPhone 14 / Pro 系列卫星 SOS 紧急求救服务已在美国和加拿大正式推出")

[@远恒之义](https://github.com/eternaljust)：卫星 SOS 紧急求救服务是 Apple 今年发布所有 iPhone 14 / Pro 系列机型提供的新功能，用户能够在没有蜂窝网络和 Wi-Fi 信号覆盖区域通过卫星紧急服务发送消息。从 11 月 15 号开始，美国和加拿大的 iPhone 14 / Pro 系列用户可通过卫星使用紧急 SOS，此服务还将于 12 月在法国、德国、爱尔兰和英国推出。[Apple 官网关于卫星紧急求救](https://support.apple.com/en-us/HT213426 "Use Emergency SOS via satellite on your iPhone 14")的介绍说明，用户使用前必须升级到 iOS 16.1 正式版系统，同时从 iPhone 14 / Pro 系列手机激活之日起，此服务两年内免费使用。遗憾的是，国行版 iPhone 14 / Pro 系列不支持此服务功能。

![Use Emergency SOS via satellite on your iPhone 14](https://cdn.zhangferry.com/Images/iphone-14-emergency-sos-via-satellite.png)

******
### [圣诞节将至，请为您的 App 做好准备](https://developer.apple.com/cn/news/?id=xpkhwg3l "圣诞节将至，请为您的 App 做好准备")

[@师大小海腾](https://juejin.cn/user/782508012091645/posts)：App Store 最繁忙的季节即将到来！确保及时更新您的 App 和产品页面，并在岁末假日到来之前做好准备。很高兴今年的整个假日季期间同样会开放 App 提交，我们非常期待看到您提交的 App。平均而言，90% 的提交内容会在 24 小时内得到审核。但请注意，在 12 月 23 日至 27 日，完成审核所需的时间可能略长一些。

###  Developer 设计开发加速器｜如何在游戏中支持手柄

[@师大小海腾](https://juejin.cn/user/782508012091645/posts)：准备好了提升您的游戏操作方式吗？我们会带您了解 iPhone、iPad、Mac 和 Apple TV 平台上的虚拟和实体游戏控制器的最新改进，新推出的屏幕上的虚拟游戏控制器可以将触摸输入变成游戏控制器的输入。我们将告诉您如何在您游戏中添加对最新游戏控制器的支持和添加分享功能。您还可以了解如何将 Game Controller 框架与 Core Haptics 框架一起使用，以实现触觉反馈。学习如何通过自定义按钮映射，非标准输入，以及支持运动传感器、灯光和自适应扳机键等特殊功能，使您的游戏体验更上一层楼。

活动将于 2022 年 12 月 6 日（周二）举办。名额有限。请在 2022 年 12 月 5 日前报名参加。**报名地址**：https://developer.apple.com/events/view/2L9P7JC7G4/dashboard。

###  Developer 设计开发加速器｜在 iPhone 锁屏上扩展你的 App 体验

[@师大小海腾](https://juejin.cn/user/782508012091645/posts)：发现如何利用 iPhone 锁屏上的特性，进一步扩展你的 App 体验。学习如何利用锁屏小组件、实时活动以及通知，为用户创造更丰富的体验。

活动将于 2022 年 12 月 8 日（周四）举办。名额有限。请在 2022 年 12 月 7 日前报名参加。**报名地址**：https://developer.apple.com/events/view/US9PY3MAMG/dashboard。

***
### 用 ChatGPT 做点好玩的事

![](https://cdn.zhangferry.com/Images/20221208230711.png)

[@zhangferry](zhangferry.com)：[ChatGPT](https://chat.openai.com/chat "ChatGPT") 是最近大火的一个预训练语言模型。GPT 是 Generative Pretrained Transformer 的缩写，意思是通过预先训练得到的转换器进行生成。GPT 是一个神经网络模型，它能够学习大量的文本数据，并能够根据这些数据生成新的文本内容。它可以用来进行文本自动补全、文本生成、机器翻译等任务。GPT 的性能非常优秀，可以达到人类水平，或者甚至更优。

ChatGPT 可以用来与人进行自然语言对话。它可以帮助人们解决问题，提供信息，进行虚拟咨询，或者只是作为一个会说话的机器人来提供娱乐。

> 以上是ChatGPT自己的介绍。

很多人用 ChatGPT 写代码、扮演终端、写小说、写周报、做题等等，另外我再介绍两个比较好玩的项目。

#### [wechat-chatgpt](https://github.com/fuergaosi233/wechat-chatgpt "wechat-chatpgt")

一个 Github 项目，基于 wechaty 实现，可以让一个特定账号充当 ChatGPT 的身份，你来跟它对话，这样就真正成为了一名生活小助手了。

![](https://cdn.zhangferry.com/Images/20221208222746.png)

#### VSCode 插件：ChatGPT中文版

在 VSCode 插件市场搜索 「ChatGPT中文版」即可找到，它主要利用 ChatGPT 在编程领域的能力，提供代码解释、重构、异常分析等能力。

![](https://cdn.zhangferry.com/Images/20221208230456.png)

目前还需要依赖你有ChatGPT账号，并提供对应的 SessionToken 才能正常使用。以下是我用这个工具尝试分析 wechat-chatgpt 里的一段代码得出的解释。这个功能真的很厉害有木有！

![](https://cdn.zhangferry.com/Images/20221208222913.png)

其实 ChatGPT 也具备通过描述写代码的能力了，看代码，写代码，改代码好像它都会了，那是否就意味着它能替代程序员呢？我感觉就目前来说还为时尚早，ChatGPT 主要具备的还是单点能力，某一个特定功能，某一段特定代码，它能提供帮助，这类能力其实更像搜索引擎，只不过它能过滤和聚类答案。所以要让他现在就替换一个程序员去工作根本不可能。

但 AI 的发展就是要替换很多岗位的，像现在的电话销售，很多都已经是程序在给你聊天了，而且你还不一定发现。所以以后程序会不会代替写程序的人，完成自我迭代，我是乐观派，我感觉大概率是会的。不过在那个时间点到来之前，还是好好享受我们可以支配程序的快乐吧。

### [Apple 宣布 App Store 定价机制最重大升级，新增 700 个价格点](https://developer.apple.com/cn/news/?id=qzex35ch "Apple 宣布 App Store 定价机制最重大升级，新增 700 个价格点")

[@远恒之义](https://github.com/eternaljust)：近日，Apple 对 App Store 进行全面的定价机制升级。新定价机制增加了 700 个价格点和全新定价工具，提供自动续期订阅服务的 App 从 2022 年 12 月 6 日起即可使用升级，其他所有 App 及 App 内购买内容将可从 2023 年春季开始使用新定价机制。在新定价机制中，所有开发者均可在 900 个价格点中选择定价。Apple 提供更高的定价灵活度，价格点将从最低 ¥1 到最高 ¥74,999。同时，订阅 App 的开发者将可选择自己最熟悉的地区商店，以此为基础自动为其他商店生成定价。此外，开发者也可按需针对不同商店分别定价，该功能将在 2023 年春季拓展至其他所有 App。新定价机制的价格区间逐渐递增，各档位变化如下所示：

![](https://cdn.zhangferry.com/Images/78-appstore-upgrade-pricing.jpeg)

***
### iOS 16.2 发布

[@zhangferry](zhangferry.com)：iOS 16.2 主要发布了这些功能，其中 Freeform 这个全新内置 App 感觉值得拿出来单独讲一讲。

![](https://cdn.zhangferry.com/Images/20221215234359.png)

#### [Freeform App 上线](https://www.apple.com/newsroom/2022/12/apple-launches-freeform-a-powerful-new-app-designed-for-creative-collaboration/ "Freeform App上线")

![](https://cdn.zhangferry.com/Images/20221215212106.png)

随 iOS 16.2，Apple 发布了新的系统应用 Freeform，同时有 iPad 和 Mac 版，中文译为：「无边记」，该 App 定位于创造性的头脑风暴和协作。Freeform 有这些特点：

* 创作空间无限，想画多大就画多大。

* 支持非常多格式的嵌入，包括图片、PDF、网站链接、视频、地图定位、图表等等。

* 可以多人创作，支持最多邀请 100 位协作者。

* iClound 同步，你可以无缝切换到 iPad 和 Mac 场景继续使用。

* 可以边创作边开启 Facetime。

白板是一个相对自由的创作空间，我想到的一些使用场景是，办公室的远程会议，大家一起想一些 idea；网课里老师远程教授知识，通过 Freeform 跟学生进行互动。

### 第十七届 D2 本周末开始

本届 D2 为期两天共五场活动，议题范围从开发者的研发交付到监控运维，从运行时的上层框架到底层引擎，从过去始终在效率与体验间平衡的跨端技术，到将引领下一代体验革命的 3D/XR 技术全部都会涵盖。会议详情可以查看这篇介绍：[3D/XR、自研 SwiftUI、Lynx、QUIC、边缘计算、Flutter 等话题集结，与32位技术专家相约第十七届 D2！](https://mp.weixin.qq.com/s/xFeWpkZcRHQygmORAuHkFw "3D/XR、自研 SwiftUI、Lynx、QUIC、边缘计算、Flutter 等话题集结，与32位技术专家相约第十七届 D2！")。

因为是付费活动，所以整体的会议质量和讨论氛围都会好很多。如果你对议题感兴趣可以付费购买门票或者在上面那篇文章底部留言获取门票抽取资格。

***
###  Developer 设计开发加速器｜在 SwiftUI 中管理数据模型

[@师大小海腾](https://juejin.cn/user/782508012091645/posts)：SwiftUI 以一种声明式的编程方式来定义用户界面，而这需要由您来定义数据与视图之间的依赖关系，以便能让 SwiftUI 正确工作。通过本次活动，您将了解 SwiftUI 提供的各种工具，用于将 App 的数据连接到用户界面。您还可以深入了解 SwiftUI 框架驱动的原理，以便能让您的 App 正确运作并且拥有良好性能。

活动将于 2023 年 1 月 10 日（周二）举办。名额有限。请在 2023 年 1 月 9 日前报名参加。**报名地址：** [https://developer.apple.com/events/view/D793NQ6482/dashboard](https://developer.apple.com/events/view/D793NQ6482/dashboard "Developer 设计开发加速器｜在 SwiftUI 中管理数据模型")。

